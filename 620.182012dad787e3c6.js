"use strict";(self.webpackChunkpolity=self.webpackChunkpolity||[]).push([[620],{7620:(ce,T,a)=>{a.r(T),a.d(T,{PROFILE_ROUTES:()=>yt});var f=a(6287),e=a(3953),O=a(7500);const d=(i,u)=>{const t=(0,e.WQX)(O.c),o=(0,e.WQX)(f.Ix),s=t.selectSession()()?.user.id;return!(!s||!u.url.includes(s))||(o.navigate(["/home"]),!1)};var l=a(467),n=a(4341),w=a(4203),p=a(2180),h=a(378),C=a(6686),_=a(7440),m=a(4350),v=a(2782),j=a(2935),A=a(906),B=a(7575),x=a(4721),de=a(9925),R=a(683),ge=a(8529),fe=a(1410),_e=a(8180),U=a(6249),L=a(2061),V=a(7919),pe=a(8323),S=a(177),D=a(800);const he=["focusableElement"],X=i=>({$implicit:i});function me(i,u){if(1&i&&e.nrm(0,"tui-loader",7),2&i){const t=e.XpG();e.Y8G("inheritColor",!0)("showLoader",t.value)("size",t.loaderSize)}}function ve(i,u){1&i&&e.nrm(0,"tui-svg",10),2&i&&e.Y8G("src",u.polymorpheusOutlet)}function we(i,u){if(1&i&&(e.j41(0,"span",8),e.DNE(1,ve,1,1,"tui-svg",9),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("polymorpheusOutlet",t.iconOn)("polymorpheusOutletContext",e.eq3(2,X,t.size))}}function Se(i,u){if(1&i&&e.nrm(0,"tui-loader",7),2&i){const t=e.XpG();e.Y8G("inheritColor",!0)("showLoader",!t.value)("size",t.loaderSize)}}function ye(i,u){1&i&&e.nrm(0,"tui-svg",12),2&i&&e.Y8G("src",u.polymorpheusOutlet)}function Ce(i,u){if(1&i&&(e.j41(0,"span",8),e.DNE(1,ye,1,1,"tui-svg",11),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("polymorpheusOutlet",t.iconOff)("polymorpheusOutletContext",e.eq3(2,X,t.size))}}const J=(0,de.gc)({icons:{toggleOff:({$implicit:i})=>"m"===i?"tuiIconToggleOff":"tuiIconToggleOffLarge",toggleOn:({$implicit:i})=>"m"===i?"tuiIconToggleOn":"tuiIconToggleOnLarge"},appearances:{checked:V.bC.Primary,unchecked:V.bC.Secondary},singleColor:!1,showIcons:!1,size:"m"});let Y=(()=>{class i extends R.Er{constructor(t,o,r,s){super(t,o),this.modeDirective=r,this.options=s,this.singleColor=this.options.singleColor,this.showIcons=this.options.showIcons,this.showLoader=!1,this.size=this.options.size}get iconOn(){return this.options.icons.toggleOn}get iconOff(){return this.options.icons.toggleOff}get nativeFocusableElement(){var t,o;return null!==(o=null===(t=this.focusableElement)||void 0===t?void 0:t.nativeElement)&&void 0!==o?o:null}get focused(){return(0,ge.X)(this.nativeFocusableElement)}get appearance(){return this.singleColor||this.value?this.options.appearances.checked:this.options.appearances.unchecked}get sizeM(){return"m"===this.size}get loaderSize(){return this.sizeM?"xs":"s"}get hostMode(){var t,o;return null!==(o=null===(t=this.modeDirective)||void 0===t?void 0:t.mode)&&void 0!==o?o:null}onChecked(t){this.value=t}onFocused(t){this.updateFocused(t)}onFocusVisible(t){this.updateFocusVisible(t)}getFallbackValue(){return!1}}return i.\u0275fac=function(t){return new(t||i)(e.rXU(n.vO,10),e.rXU(e.gRc),e.rXU(pe.h,8),e.rXU(J))},i.\u0275cmp=e.VBU({type:i,selectors:[["tui-toggle"]],viewQuery:function(t,o){if(1&t&&e.GBs(he,5),2&t){let r;e.mGM(r=e.lsd())&&(o.focusableElement=r.first)}},hostVars:4,hostBindings:function(t,o){2&t&&(e.BMQ("data-size",o.size)("data-mode",o.hostMode),e.AVh("_checked",o.value))},inputs:{singleColor:"singleColor",showIcons:"showIcons",showLoader:"showLoader",size:"size"},features:[e.Jv_([(0,fe.Jr)(i),(0,R.SN)(i)]),e.Vt3],decls:9,vars:16,consts:[["focusableElement",""],["tuiWrapper","",3,"active","appearance","disabled","focus","hover","invalid","readOnly"],[1,"t-toggle"],["class","t-loader",3,"inheritColor","showLoader","size",4,"ngIf"],["class","t-icon-wrapper",4,"ngIf"],[1,"t-circle"],["automation-id","tui-toggle__checkbox","role","switch","type","checkbox",1,"t-checkbox",3,"tuiCheckedChange","tuiFocusedChange","tuiFocusVisibleChange","disabled","id","tuiFocusable","tuiChecked"],[1,"t-loader",3,"inheritColor","showLoader","size"],[1,"t-icon-wrapper"],["automation-id","tui-toggle__check-icon","class","t-icon",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-toggle__check-icon",1,"t-icon",3,"src"],["automation-id","tui-toggle__cancel-icon","class","t-icon t-icon_off",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-toggle__cancel-icon",1,"t-icon","t-icon_off",3,"src"]],template:function(t,o){if(1&t){const r=e.RV6();e.j41(0,"div",1)(1,"div",2),e.DNE(2,me,1,3,"tui-loader",3)(3,we,2,4,"span",4),e.nrm(4,"div",5),e.DNE(5,Se,1,3,"tui-loader",3)(6,Ce,2,4,"span",4),e.k0s(),e.j41(7,"input",6,0),e.mxI("tuiCheckedChange",function(c){return e.eBV(r),e.DH7(o.value,c)||(o.value=c),e.Njj(c)}),e.bIt("tuiFocusedChange",function(c){return e.eBV(r),e.Njj(o.onFocused(c))})("tuiFocusVisibleChange",function(c){return e.eBV(r),e.Njj(o.onFocusVisible(c))}),e.k0s()()}2&t&&(e.Y8G("active",o.pseudoActive)("appearance",o.appearance)("disabled",o.computedDisabled)("focus",o.computedFocusVisible)("hover",o.pseudoHover)("invalid",o.computedInvalid)("readOnly",o.readOnly),e.R7$(2),e.Y8G("ngIf",o.showLoader),e.R7$(),e.Y8G("ngIf",o.showIcons&&!o.showLoader),e.R7$(2),e.Y8G("ngIf",o.showLoader),e.R7$(),e.Y8G("ngIf",o.showIcons&&!o.showLoader),e.R7$(),e.Y8G("disabled",o.disabled)("id",o.id)("tuiFocusable",o.focusable),e.R50("tuiChecked",o.value),e.BMQ("aria-checked",o.value))},dependencies:[U.jT,m._Y,L.l,S.bT,D.OA,j.H,A.g,B.F,x.W],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;vertical-align:middle;overflow:hidden;border-radius:6.25rem}[data-size=m][_nghost-%COMP%]{width:2rem;height:1rem}[data-size=l][_nghost-%COMP%]{width:3rem;height:1.5rem}.t-checkbox[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;height:100%;width:100%;opacity:0;cursor:pointer}.t-checkbox[_ngcontent-%COMP%]:-webkit-autofill, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){.t-checkbox[_ngcontent-%COMP%]:active{font-size:1rem}}._disabled[_nghost-%COMP%]   .t-checkbox[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.t-toggle[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;align-items:center;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:3rem;height:1rem;transform:translate(-1rem)}[data-size=l][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:4.5rem;height:1.5rem;transform:translate(-1.5rem)}._checked[_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{transform:translate(0)}.t-circle[_ngcontent-%COMP%]{margin:.125rem 0;flex-shrink:0;border-radius:100%;background-color:var(--tui-base-01)}._disabled[_nghost-%COMP%]   .t-circle_light[_ngcontent-%COMP%]{opacity:.24}[data-size=m][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:.75rem;height:.75rem}[data-size=l][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:1rem;height:1rem}._disabled[_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{background-color:var(--tui-base-01)}.t-loader[_ngcontent-%COMP%]{min-width:auto}[_nghost-%COMP%]:not(._checked)   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-06)}[_nghost-%COMP%]:not(._checked)._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-05)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:.75rem;margin:0 .2rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:1rem;margin:0 .25rem}.t-icon-wrapper[_ngcontent-%COMP%]{display:flex}.t-icon[_ngcontent-%COMP%]{opacity:.8}.t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-06)}._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-05)}[data-mode=onDark][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[data-mode=onLight][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{margin:0 .125rem;width:1.5rem;height:1.5rem}[_nghost-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),i})(),Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[[S.MD,B.k,A.V,_e.$,x.n,j.m,L.E,m.vl,U.Yc,D.yJ]]}),i})();var Fe=a(1934);let be=(()=>{class i{constructor(){this.assistantStore=(0,e.WQX)(Fe.w),this.toggleAssistantForm=new n.gE({showAssistant:new n.MJ(!1)}),(0,e.QZP)(()=>{this.toggleAssistantForm.patchValue({showAssistant:!this.assistantStore.data().skip_tutorial_})})}toggleAssistant(){var t=this;return(0,l.A)(function*(){const o=t.toggleAssistantForm.value.showAssistant;yield t.assistantStore.skipTutorial(o),o?yield t.assistantStore.updateLastTutorial("profile","Tutorials will not be shown again but can be restarted."):yield t.assistantStore.updateLastTutorial("profile","Tutorials are activated again!")})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-assistant-toggle"]],standalone:!0,features:[e.aNF],decls:5,vars:8,consts:[[3,"formGroup"],[1,"tui-form__row","flex-box"],[1,"tui-text_body-m"],["formControlName","showAssistant",3,"click","showIcons"]],template:function(o,r){1&o&&(e.j41(0,"form",0)(1,"div",1)(2,"p",2),e.EFF(3,"Zeige Tutorials"),e.k0s(),e.j41(4,"tui-toggle",3),e.bIt("click",function(){return r.toggleAssistant()}),e.k0s()()()),2&o&&(e.Y8G("formGroup",r.toggleAssistantForm),e.R7$(2),e.AVh("tui-skeleton",r.assistantStore.loadingState().loading),e.BMQ("data-cy","toggle-assistant-headline"),e.R7$(2),e.AVh("tui-skeleton",r.assistantStore.loadingState().loading),e.Y8G("showIcons",!0),e.BMQ("data-cy","toggle-assistant"))},dependencies:[n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,Q,Y],styles:[".flex-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:1rem}"]})}return i})();var M=a(4478);let Pe=(()=>{class i{constructor(t){this.authService=t}signOut(){var t=this;return(0,l.A)(function*(){t.authService.signOut()})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(M.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-sign-out"]],standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"tui-form__row"],[1,"tui-form__buttons"],["size","l","tuiButton","","type","submit",1,"tui-form__button",3,"click"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return r.signOut()}),e.EFF(3," SIGNOUT "),e.k0s()()()),2&o&&(e.R7$(2),e.BMQ("data-cy","sign-out"))},dependencies:[v.Pv,v.SM],styles:[".tui-form__buttons[_ngcontent-%COMP%]{margin-top:0rem!important}"]})}return i})();var H=a(4886),Te=a(1539);let ke=(()=>{class i extends Te.I{constructor(){super({receive_follow_notifications_:!1})}read(){var t=this;return(0,l.A)(function*(){yield(0,H.$)({fn:"profiles_read_notification_settings"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1})})()}update(t){var o=this;return(0,l.A)(function*(){yield(0,H.$)({fn:"profiles_receive_notifications_from_follow_update",args:{_new_status:t}},{useLoading:!0,loadingState:o.loadingState_},{useStore:!0,dataState:o.data_},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"Notification settings updated!"})})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ge=(()=>{class i{constructor(){this.notificationSettingsStore=(0,e.WQX)(ke),this.toggleNotificationsFromFollowForm=new n.gE({showFollowNotifications:new n.MJ(this.notificationSettingsStore.data().receive_follow_notifications_)}),this.notificationSettingsStore.read(),(0,e.QZP)(()=>{this.toggleNotificationsFromFollowForm.patchValue({showFollowNotifications:this.notificationSettingsStore.data().receive_follow_notifications_})})}toggleNotifications(){var t=this;return(0,l.A)(function*(){t.notificationSettingsStore.update(!t.toggleNotificationsFromFollowForm.value.showFollowNotifications)})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-notfications-from-follow-toggle"]],standalone:!0,features:[e.aNF],decls:5,vars:8,consts:[[3,"formGroup"],[1,"tui-form__row","flex-box"],[1,"tui-text_body-m"],["formControlName","showFollowNotifications",3,"click","showIcons"]],template:function(o,r){1&o&&(e.j41(0,"form",0)(1,"div",1)(2,"p",2),e.EFF(3,"Erhalte Nachrichten, wenn jemand dir folgt"),e.k0s(),e.j41(4,"tui-toggle",3),e.bIt("click",function(){return r.toggleNotifications()}),e.k0s()()()),2&o&&(e.Y8G("formGroup",r.toggleNotificationsFromFollowForm),e.R7$(2),e.AVh("tui-skeleton",r.notificationSettingsStore.loadingState().loading),e.BMQ("data-cy","toggle-notifications-headline"),e.R7$(2),e.AVh("tui-skeleton",r.notificationSettingsStore.loadingState().loading),e.Y8G("showIcons",!0),e.BMQ("data-cy","toggle-notifications-from-user"))},dependencies:[S.MD,n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,Q,Y],styles:[".flex-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:1rem}"]})}return i})();var b=a(9936),k=a(6439);const Oe=()=>[];function Me(i,u){1&i&&e.nrm(0,"tui-svg",8)}let Ee=(()=>{class i{constructor(t){this.authService=t,this.updateEmailForm=new n.gE({email:new n.MJ("",[n.k0.required,n.k0.email])})}onUpdateEmail(){var t=this;return(0,l.A)(function*(){yield t.authService.updateEmail(t.updateEmailForm.value.email),t.updateEmailForm.reset()})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(M.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-update-email"]],standalone:!0,features:[e.Jv_([{provide:w.fh,useValue:{required:"Bitte ausf\xfcllen.",email:"Bitte eine g\xfcltige E-Mail-Adresse eingeben."}}]),e.aNF],decls:15,vars:12,consts:[["success",""],[1,"danger-zone"],[3,"ngSubmit","formGroup"],[1,"tui-text_body-s-2","warning","tui-space_left-3"],[1,"tui-space_top-3"],["formControlName","email","tuiHintContent","It will be used for sending documents",3,"tuiTextfieldCleaner","tuiTextfieldCustomContent"],["formControlName","email",3,"error"],["size","l","tuiButton","","type","submit",1,"tui-form__button",3,"disabled"],["src","tuiIconCheck",1,"polity-success","tui-space_left-3"]],template:function(o,r){if(1&o){const s=e.RV6();e.j41(0,"tui-island",1)(1,"form",2),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(r.onUpdateEmail())}),e.j41(2,"p",3),e.EFF(3,"WARNUNG: \xc4nderungen hier beeinflu\xdfen den Account Zugang!"),e.k0s(),e.j41(4,"div",4)(5,"tui-input",5),e.EFF(6," Type an email "),e.k0s(),e.DNE(7,Me,1,0,"ng-template",null,0,e.C5r),e.nrm(9,"tui-error",6),e.nI1(10,"tuiFieldError"),e.nI1(11,"async"),e.k0s(),e.j41(12,"div",4)(13,"button",7),e.EFF(14," \xc4NDERN "),e.k0s()()()()}if(2&o){const s=e.sdS(8);e.R7$(),e.Y8G("formGroup",r.updateEmailForm),e.R7$(4),e.Y8G("tuiTextfieldCleaner",!0)("tuiTextfieldCustomContent",r.updateEmailForm.controls.email.valid?s:""),e.BMQ("data-cy","email"),e.R7$(4),e.Y8G("error",e.bMT(11,9,e.bMT(10,7,e.lJ4(11,Oe)))),e.R7$(4),e.Y8G("disabled",!r.updateEmailForm.valid),e.BMQ("data-cy","sign-in")}},dependencies:[S.Jj,n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,v.Pv,v.SM,C.F,C.u,h.Hi,h.bs,p.zi,p.mp,p.Ws,b.Qw,k.y,k.l,m.vl,m._Y,_.CN,_.np,_.Rd],styles:[".tui-island[_ngcontent-%COMP%]:not(.tui-island_hoverable):before{border:1px solid var(--tui-warning-fill)}.warning[_ngcontent-%COMP%]{color:var(--tui-warning-fill)}"]})}return i})();var K=a(7086),z=a(7673);const Ie=()=>[];function Ne(i,u){1&i&&e.nrm(0,"tui-svg",8)}let je=(()=>{class i{constructor(t){this.authService=t,this.updatePasswordForm=new n.gE({password:new n.MJ("",[n.k0.required,n.k0.minLength(6)])})}onUpdatePassword(){var t=this;return(0,l.A)(function*(){yield t.authService.updatePassword(t.updatePasswordForm.value.password),t.updatePasswordForm.reset()})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(M.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-update-password"]],standalone:!0,features:[e.Jv_([(0,b.rz)({icons:{hide:"tuiIconLockLarge",show:"tuiIconUnlockLarge"}}),{provide:w.ig,useValue:(0,z.of)([""])},{provide:w.fh,useValue:{required:"Bitte ausf\xfcllen.",minlength:({requiredLength:t})=>(0,z.of)(`Passwort ben\xf6tigt mindestens ${t} Zeichen.`)}}]),e.aNF],decls:15,vars:12,consts:[["success",""],[1,"danger-zone"],[3,"ngSubmit","formGroup"],[1,"tui-text_body-s-2","warning","tui-space_left-3"],[1,"tui-space_top-3"],["formControlName","password",3,"tuiTextfieldCleaner","tuiTextfieldCustomContent"],["formControlName","password",3,"error"],["size","l","tuiButton","","type","submit",1,"tui-form__button",3,"disabled"],["src","tuiIconCheck",1,"polity-success","tui-space_left-3"]],template:function(o,r){if(1&o){const s=e.RV6();e.j41(0,"tui-island",1)(1,"form",2),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(r.onUpdatePassword())}),e.j41(2,"p",3),e.EFF(3,"WARNUNG: \xc4nderungen hier beeinflu\xdfen den Account Zugang!"),e.k0s(),e.j41(4,"div",4)(5,"tui-input-password",5),e.EFF(6," Gebe ein Password ein. "),e.k0s(),e.DNE(7,Ne,1,0,"ng-template",null,0,e.C5r),e.nrm(9,"tui-error",6),e.nI1(10,"tuiFieldError"),e.nI1(11,"async"),e.k0s(),e.j41(12,"div",4)(13,"button",7),e.EFF(14," \xc4NDERN "),e.k0s()()()()}if(2&o){const s=e.sdS(8);e.R7$(),e.Y8G("formGroup",r.updatePasswordForm),e.R7$(4),e.Y8G("tuiTextfieldCleaner",!0)("tuiTextfieldCustomContent",r.updatePasswordForm.controls.password.valid?s:""),e.BMQ("data-cy","password"),e.R7$(4),e.Y8G("error",e.bMT(11,9,e.bMT(10,7,e.lJ4(11,Ie)))),e.R7$(4),e.Y8G("disabled",!r.updatePasswordForm.valid),e.BMQ("data-cy","sign-in")}},dependencies:[S.Jj,n.X1,n.qT,n.BC,n.cb,n.j4,n.JD,v.Pv,v.SM,C.F,C.u,h.Hi,h.bs,p.zi,b.Qw,b.PL,b.lv,k.y,k.l,m.vl,m._Y,_.CN,_.np,_.Rd],styles:[".tui-island[_ngcontent-%COMP%]:not(.tui-island_hoverable):before{border:1px solid var(--tui-warning-fill)}.warning[_ngcontent-%COMP%]{color:var(--tui-warning-fill)}"]})}return i})();const W=()=>[];function Ae(i,u){1&i&&e.nrm(0,"tui-svg",10)}let Be=(()=>{class i{constructor(){this.profile=e.hFB.required(),this.loadingState=e.hFB.required(),this.newProfileData=(0,e.CGW)(),this.editProfileForm=new n.gE({firstName:new n.MJ("",n.k0.required),lastName:new n.MJ("",n.k0.required)}),(0,e.QZP)(()=>{this.editProfileForm.patchValue({firstName:this.profile().first_name_,lastName:this.profile().last_name_})})}onEdit(){var t=this;return(0,l.A)(function*(){t.newProfileData.emit({first_name_:t.editProfileForm.value.firstName,last_name_:t.editProfileForm.value.lastName})})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-profile-edit-form"]],inputs:{profile:[1,"profile"],loadingState:[1,"loadingState"]},outputs:{newProfileData:"newProfileData"},standalone:!0,features:[e.aNF],decls:20,vars:30,consts:[["success",""],[3,"ngSubmit","formGroup"],[1,"tui-form__header"],[1,"tui-form__row"],["formControlName","firstName","tuiHintContent","Bitte gebe deinen Klarnamen ein",3,"tuiTextfieldCleaner","tuiTextfieldCustomContent"],["formControlName","firstName",3,"error"],["formControlName","lastName","tuiHintContent","Bitte gebe deinen Klarnamen ein",3,"tuiTextfieldCleaner","tuiTextfieldCustomContent"],["formControlName","lastName",3,"error"],[1,"tui-form__buttons"],["size","l","tuiButton","","type","submit",1,"tui-form__button",3,"disabled"],["src","tuiIconCheck",1,"polity-success","tui-space_left-3"]],template:function(o,r){if(1&o){const s=e.RV6();e.j41(0,"form",1),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(r.onEdit())}),e.j41(1,"h3",2),e.EFF(2,"\xc4ndere deine Profil Daten"),e.k0s(),e.j41(3,"div",3)(4,"tui-input",4),e.EFF(5," Gebe deinen Vornamen ein "),e.k0s(),e.nrm(6,"tui-error",5),e.nI1(7,"tuiFieldError"),e.nI1(8,"async"),e.k0s(),e.j41(9,"div",3)(10,"tui-input",6),e.EFF(11," Gebe deinen Nachnamen ein "),e.k0s(),e.nrm(12,"tui-error",7),e.nI1(13,"tuiFieldError"),e.nI1(14,"async"),e.k0s(),e.j41(15,"div",8)(16,"button",9),e.EFF(17," \xc4NDERN "),e.k0s()(),e.DNE(18,Ae,1,0,"ng-template",null,0,e.C5r),e.k0s()}if(2&o){const s=e.sdS(19);e.Y8G("formGroup",r.editProfileForm),e.R7$(),e.AVh("tui-skeleton",r.loadingState().loading),e.BMQ("data-cy","edit-instruction"),e.R7$(3),e.AVh("tui-skeleton",r.loadingState().loading),e.Y8G("tuiTextfieldCleaner",!0)("tuiTextfieldCustomContent",r.editProfileForm.controls.firstName.valid?s:""),e.BMQ("data-cy","first-name"),e.R7$(2),e.Y8G("error",e.bMT(8,22,e.bMT(7,20,e.lJ4(28,W)))),e.R7$(4),e.AVh("tui-skeleton",r.loadingState().loading),e.Y8G("tuiTextfieldCleaner",!0)("tuiTextfieldCustomContent",r.editProfileForm.controls.lastName.valid?s:""),e.BMQ("data-cy","last-name"),e.R7$(2),e.Y8G("error",e.bMT(14,26,e.bMT(13,24,e.lJ4(29,W)))),e.R7$(4),e.AVh("tui-skeleton",r.loadingState().loading),e.Y8G("disabled",!r.editProfileForm.valid),e.BMQ("data-cy","update")}},dependencies:[S.Jj,n.YN,n.qT,n.BC,n.cb,n.X1,n.j4,n.JD,v.Pv,v.SM,C.F,C.u,h.Hi,h.bs,p.zi,p.mp,p.Ws,m.vl,m._Y,_.CN,_.np,_.Rd]})}return i})();var xe=a(9165);let Re=(()=>{class i{constructor(){this.profileStore=(0,e.WQX)(K.X)}onEdit(t){var o=this;return(0,l.A)(function*(){yield o.profileStore.update(t)})()}onUpdateProfileImage(t){var o=this;return(0,l.A)(function*(){yield o.profileStore.update({profile_image_:t})})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-profile-edit"]],standalone:!0,features:[e.Jv_([{provide:w.fh,useValue:{required:"Bitte ausf\xfcllen"}}]),e.aNF],decls:29,vars:17,consts:[[1,"polity-space_bottom-15"],[3,"newProfileData","loadingState","profile"],[1,""],[1,"tui-form__header"],[3,"imgStoragePath","bucketName","imgSrc","loadingState"],[1,"polity-space_bottom-15","extra-margin"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"polity-profile-edit-form",1),e.bIt("newProfileData",function(c){return r.onEdit(c)}),e.k0s()(),e.nrm(2,"hr"),e.j41(3,"div",2)(4,"h3",3),e.EFF(5,"\xc4ndere deine Profil Bild"),e.k0s(),e.j41(6,"polity-image-upload",4),e.bIt("imgStoragePath",function(c){return r.onUpdateProfileImage(c)}),e.k0s()(),e.nrm(7,"hr"),e.j41(8,"div",0)(9,"h3",3),e.EFF(10,"Tutorial"),e.k0s(),e.nrm(11,"polity-assistant-toggle"),e.k0s(),e.j41(12,"div",0)(13,"h3",3),e.EFF(14,"Benachrichtigungen"),e.k0s(),e.nrm(15,"polity-notfications-from-follow-toggle"),e.k0s(),e.nrm(16,"hr"),e.j41(17,"div",2)(18,"h3",3),e.EFF(19,"Email \xe4ndern"),e.k0s(),e.nrm(20,"polity-update-email"),e.k0s(),e.j41(21,"div",2)(22,"h3",3),e.EFF(23,"Passwort \xe4ndern"),e.k0s(),e.nrm(24,"polity-update-password"),e.k0s(),e.j41(25,"div",5)(26,"h3",3),e.EFF(27,"Logout"),e.k0s(),e.nrm(28,"polity-sign-out"),e.k0s()),2&o&&(e.R7$(),e.Y8G("loadingState",r.profileStore.loadingState())("profile",r.profileStore.data()),e.R7$(3),e.AVh("tui-skeleton",r.profileStore.loadingState().loading),e.R7$(2),e.Y8G("bucketName","profile_images")("imgSrc",r.profileStore.data().profile_image_)("loadingState",r.profileStore.loadingState()),e.R7$(3),e.AVh("tui-skeleton",r.profileStore.loadingState().loading),e.R7$(4),e.AVh("tui-skeleton",r.profileStore.loadingState().loading),e.R7$(5),e.AVh("tui-skeleton",r.profileStore.loadingState().loading),e.R7$(4),e.AVh("tui-skeleton",r.profileStore.loadingState().loading),e.R7$(4),e.AVh("tui-skeleton",r.profileStore.loadingState().loading))},dependencies:[n.X1,p.zi,C.F,h.Hi,_.CN,be,Pe,S.MD,m.vl,xe.W,v.Pv,Ge,Ee,je,Be],styles:[".tui-form__buttons[_ngcontent-%COMP%]{margin-top:1rem!important}@media screen and (max-width: 47.9625em){.extra-margin[_ngcontent-%COMP%]{margin-bottom:10rem}}"]})}return i})();var Ue=a(574),Le=a(9702),Ve=a(6610),De=a(2748),Xe=a(1056),G=a(4153);let $e=(()=>{class i{constructor(){this.profileFollowStore=(0,e.WQX)(Xe.W),this.profileCounterStore=(0,e.WQX)(G.D),this.profileStore=(0,e.WQX)(K.X),this.signal=e.vPA}toggleFollow(t){var o=this;return(0,l.A)(function*(){t?yield o.profileFollowStore.follow():yield o.profileFollowStore.unfollow()})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-profile-wiki"]],standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"polity-center","min-height"],[3,"isLoading","src"],[3,"firstName","isLoading","lastName"],[1,"polity-flex-container","polity-single-item-centered","tui-space_right-4","tui-space_left-4"],[1,"polity-flex-item-first",3,"counterTitle","counterValue","dataCyTag","isLoading"],[1,"polity-flex-item-last",3,"counterTitle","counterValue","dataCyTag","isLoading"],[1,"tui-space_bottom-4"],[3,"toggledFollowing","isFollowing","isLoading","isOwner"]],template:function(o,r){1&o&&(e.j41(0,"div",0),e.nrm(1,"polity-wiki-image",1)(2,"polity-wiki-headline",2),e.j41(3,"div",3),e.nrm(4,"polity-counter",4)(5,"polity-counter",5)(6,"polity-counter",5),e.k0s(),e.j41(7,"div",6)(8,"polity-follow-button",7),e.bIt("toggledFollowing",function(c){return r.toggleFollow(c)}),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("isLoading",r.profileStore.loadingState().loading)("src",r.profileStore.data().profile_image_),e.R7$(),e.Y8G("firstName",r.profileStore.data().first_name_)("isLoading",r.profileStore.loadingState().loading)("lastName",r.profileStore.data().last_name_),e.R7$(2),e.Y8G("counterTitle","Follower")("counterValue",r.profileCounterStore.data().follower_counter_)("dataCyTag","follower-counter")("isLoading",r.profileCounterStore.loadingState().loading),e.R7$(),e.Y8G("counterTitle","Following")("counterValue",r.profileCounterStore.data().following_counter_)("dataCyTag","following-counter")("isLoading",r.profileCounterStore.loadingState().loading),e.R7$(),e.Y8G("counterTitle","Memberships")("counterValue",r.profileCounterStore.data().group_membership_counter_)("dataCyTag","membership-counter")("isLoading",r.profileCounterStore.loadingState().loading),e.R7$(2),e.Y8G("isFollowing",r.profileFollowStore.data())("isLoading",r.profileFollowStore.loadingState().loading)("isOwner",r.profileStore.isOwner()))},dependencies:[Ue.S,Le.s,Ve.W,De.p],styles:[".polity-space_bottom-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media screen and (max-width: 47.9625em){.min-height[_ngcontent-%COMP%]{min-height:100vh!important}}"]})}return i})();var Z=a(3478),y=a(5020),q=a(6476),ee=a(8974),te=a(936),P=a(1844),g=a(6530),F=a(2298);let oe=(()=>{class i extends P.W{constructor(){super({loading:!1,dataRequested:!1}),this.profileCounterStore=(0,e.WQX)(G.D)}read(){var t=this;return(0,l.A)(function*(){yield(0,g.h)({fn:"profile_followings_of_user_read"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1},{useExtractImgUrl:!0,key:"profile_image_",bucket:"profile_images"})})()}delete(t){var o=this;return(0,l.A)(function*(){console.log("data",o.data_()),(yield(0,g.h)({fn:"unfollow_profile_transaction",args:{_following_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"Following deleted!"}))().error||((0,F.x)("id_",t,o.data_),o.profileCounterStore.decrement("following_counter_"))})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ie=(()=>{class i extends P.W{constructor(){super({loading:!1,dataRequested:!1}),this.profileCounterStore=(0,e.WQX)(G.D)}read(){var t=this;return(0,l.A)(function*(){yield(0,g.h)({fn:"profile_followers_of_user_read"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1},{useExtractImgUrl:!0,key:"profile_image_",bucket:"profile_images"}),console.log("this.data_",t.data_()),console.log("this.data",t.data())})()}remove(t){var o=this;return(0,l.A)(function*(){(yield(0,g.h)({fn:"remove_follower_of_authenticated_user_transaction",args:{_follower_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"FollowersOfUser loaded!"}))().error||((0,F.x)("id_",t,o.data_),o.profileCounterStore.decrement("follower_counter_"))})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),re=(()=>{class i extends P.W{constructor(){super({loading:!1,dataRequested:!1}),this.profileCounterStore=(0,e.WQX)(G.D)}read(){var t=this;return(0,l.A)(function*(){yield(0,g.h)({fn:"group_followings_of_user_read"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1},{useExtractImgUrl:!0,key:"img_url_",bucket:"group_images"})})()}remove(t){var o=this;return(0,l.A)(function*(){(yield(0,g.h)({fn:"unfollow_group_transaction",args:{_following_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"FollowingsOfUserGroup loaded!"}))().error||((0,F.x)("id_",t,o.data_),o.profileCounterStore.decrement("group_membership_counter_"))})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Je=a(4960);const ne=()=>["last_name_"],Ye=()=>["follower_profile_image","follower_first_name","follower_remove"],Qe=()=>["follower_profile_image_headline","follower_first_name_headline","follower_remove_headline"],se=()=>["profile_image_","first_name_","id_"],E=()=>["Foto","Name","Entfernen"],He=()=>["following_profile_image","following_first_name","following_remove"],Ke=()=>["following_profile_image_headline","following_first_name_headline","following_remove_headline"],ze=()=>["level_"],We=()=>["following_group_image","following_group_name","following_group_remove"],Ze=()=>["following_group_image_headline","following_group_name_headline","following_group_remove_headline"],qe=()=>["img_url_","name_","id_"];function et(i,u){if(1&i&&(e.qex(0,1),e.nrm(1,"polity-filter-string",6),e.bVm()),2&i){const t=e.XpG();e.Y8G("formGroup",t.combinedForm)}}function tt(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-delete",7),e.bIt("remove",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.removeFollower(r))})("openLink",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onNavigateToProfile(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(8,ne))("dataCyTags",e.lJ4(9,Ye))("dataCyTagsHeadline",e.lJ4(10,Qe))("dataKeysForColumns",e.lJ4(11,se))("data",t.followersOfUserStore.dataFiltered())("headings",e.lJ4(12,E))("isLoading",t.followersOfUserStore.loadingState().loading)("linkKey","id_")}}function ot(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-delete",7),e.bIt("remove",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.removeFollowing(r))})("openLink",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onNavigateToProfile(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(8,ne))("dataCyTags",e.lJ4(9,He))("dataCyTagsHeadline",e.lJ4(10,Ke))("dataKeysForColumns",e.lJ4(11,se))("data",t.followingsOfUserStore.dataFiltered())("headings",e.lJ4(12,E))("isLoading",t.followingsOfUserStore.loadingState().loading)("linkKey","id_")}}function it(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-delete",7),e.bIt("remove",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.removeFollowingGroup(r))})("openLink",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onNavigateToGroup(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(8,ze))("dataCyTags",e.lJ4(9,We))("dataCyTagsHeadline",e.lJ4(10,Ze))("dataKeysForColumns",e.lJ4(11,qe))("data",t.followingsOfUserGroupStore.dataFiltered())("headings",e.lJ4(12,E))("isLoading",t.followingsOfUserGroupStore.loadingState().loading)("linkKey","id_")}}let rt=(()=>{class i{constructor(t){this.formBuilder=t,this.followingsOfUserStore=(0,e.WQX)(oe),this.followersOfUserStore=(0,e.WQX)(ie),this.followingsOfUserGroupStore=(0,e.WQX)(re),this.profileLoadHelperService=(0,e.WQX)(Je.p),this.columns=["first_name","last_name","actions"],this.activeItemIndex=0,this.showFilter=!0,this.showFollowers=!0,this.showFollowings=!1,this.showFollowingGroups=!1,this.signal=e.vPA,this.router=(0,e.WQX)(f.Ix),this.combinedForm=this.formBuilder.group({filterStringForm:this.formBuilder.group({searchString:[]})}),this.combinedForm.valueChanges.subscribe(()=>this.onCombinedFormChange())}ngOnInit(){var t=this;return(0,l.A)(function*(){yield t.followingsOfUserStore.read(),yield t.followersOfUserStore.read()})()}onCombinedFormChange(){const t=this.combinedForm.get("filterStringForm")?.value.searchString;let o=!1;t&&(o=!0),this.showFollowers?this.followersOfUserStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["first_name_","last_name_"],searchString:t}}):this.showFollowings?this.followingsOfUserStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["first_name_","last_name_"],searchString:t}}):this.showFollowingGroups&&this.followingsOfUserGroupStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["name_"],searchString:t}})}onNavigateToProfile(t){this.profileLoadHelperService.loadData(t),this.router.navigateByUrl("/profile/"+t)}onNavigateToGroup(t){this.profileLoadHelperService.loadData(t),this.router.navigateByUrl("/group/"+t)}showFollowerList(){this.followersOfUserStore.read(),this.showFollowers=!0,this.showFollowings=!1,this.showFollowingGroups=!1}showFollowingList(){this.followingsOfUserStore.read(),this.showFollowers=!1,this.showFollowings=!0,this.showFollowingGroups=!1}showFollowingGroupList(){this.followingsOfUserGroupStore.read(),this.showFollowers=!1,this.showFollowings=!1,this.showFollowingGroups=!0}removeFollower(t){var o=this;return(0,l.A)(function*(){yield o.followersOfUserStore.remove(t)})()}removeFollowing(t){var o=this;return(0,l.A)(function*(){yield o.followingsOfUserStore.delete(t)})()}removeFollowingGroup(t){var o=this;return(0,l.A)(function*(){o.followingsOfUserGroupStore.remove(t)})()}clearFilter(){this.combinedForm.reset(),this.showFollowers?this.followersOfUserStore.emptyStore():this.showFollowings?this.followingsOfUserStore.emptyStore():this.showFollowingGroups&&this.followingsOfUserGroupStore.emptyStore()}toggleShowFilter(){this.showFilter=!this.showFilter,this.clearFilter()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(n.ok))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-follow-button-edit"]],standalone:!0,features:[e.Jv_([oe,ie,re]),e.aNF],decls:14,vars:10,consts:[[3,"showFilter","dataCyTag","headline"],[3,"formGroup"],[3,"clearFilter"],[3,"activeItemIndexChange","activeItemIndex"],["tuiTab","",3,"click"],[3,"bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","linkKey"],["placeholderText","Suche nach einem Vornamen","formGroupName","filterStringForm"],[3,"remove","openLink","bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","linkKey"]],template:function(o,r){1&o&&(e.j41(0,"div")(1,"polity-filter-headline",0),e.bIt("showFilter",function(){return r.toggleShowFilter()}),e.k0s(),e.DNE(2,et,2,1,"ng-container",1),e.j41(3,"polity-filter-clear",2),e.bIt("clearFilter",function(){return r.clearFilter()}),e.k0s()(),e.j41(4,"tui-tabs",3),e.mxI("activeItemIndexChange",function(c){return e.DH7(r.activeItemIndex,c)||(r.activeItemIndex=c),c}),e.j41(5,"button",4),e.bIt("click",function(){return r.showFollowerList()}),e.EFF(6," Followers "),e.k0s(),e.j41(7,"button",4),e.bIt("click",function(){return r.showFollowingList()}),e.EFF(8," Following "),e.k0s(),e.j41(9,"button",4),e.bIt("click",function(){return r.showFollowingGroupList()}),e.EFF(10," Following Groups "),e.k0s()(),e.DNE(11,tt,1,13,"polity-table-three-icon-text-delete",5)(12,ot,1,13,"polity-table-three-icon-text-delete",5)(13,it,1,13,"polity-table-three-icon-text-delete",5)),2&o&&(e.R7$(),e.Y8G("dataCyTag","edit-follower-and-followings")("headline","Deine Follower & Followings"),e.R7$(),e.vxM(r.showFilter?2:-1),e.R7$(2),e.R50("activeItemIndex",r.activeItemIndex),e.R7$(),e.BMQ("data-cy","show-follower"),e.R7$(2),e.BMQ("data-cy","show-followings"),e.R7$(2),e.BMQ("data-cy","show-following-groups"),e.R7$(2),e.vxM(r.showFollowers?11:-1),e.R7$(),e.vxM(r.showFollowings?12:-1),e.R7$(),e.vxM(r.showFollowingGroups?13:-1))},dependencies:[S.MD,Z.X,y.J8,y.Qx,y.OV,y.vy,ee.b,te.Y,n.X1,n.cb,n.j4,n.$R,q.f],styles:["tbody[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;outline:none}[tuiTh][_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--tui-font-text-s);padding:.5rem 1rem;vertical-align:middle;height:2.5rem;color:var(--tui-text-02);background:inherit;border:none}[tuiTd][_ngcontent-%COMP%]{font:var(--tui-font-text-m);padding:1rem 1rem .875rem;vertical-align:top;word-wrap:break-word;height:3.4375rem;color:var(--tui-text-01);background:inherit;border:none}[tuiTr][_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;outline:none;border:none}tui-tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-around}"]})}return i})();var nt=a(6414),st=a(1803);let ae=(()=>{class i extends P.W{constructor(){super({loading:!1,dataRequested:!1}),this.groupCounterStore=(0,e.WQX)(st.N)}read(){var t=this;return(0,l.A)(function*(){yield(0,g.h)({fn:"group_member_invitations_of_user_read"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1})})()}acceptById(t){var o=this;return(0,l.A)(function*(){(yield(0,g.h)({fn:"accept_group_invitation_by_id_transaction",args:{_invitation_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"Group invitation sent!"}))().error||((0,F.x)("id_",t,o.data_),o.groupCounterStore.increment("group_member_counter_"))})()}remove(t){var o=this;return(0,l.A)(function*(){(yield(0,g.h)({fn:"group_member_invitations_by_id_delete",args:{_invitation_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"Group invitation sent!"}))().error||(0,F.x)("id_",t,o.data_)})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac})}return i})(),le=(()=>{class i extends P.W{constructor(){super({loading:!1,dataRequested:!1})}read(){var t=this;return(0,l.A)(function*(){yield(0,g.h)({fn:"group_member_requests_of_user_read"},{useLoading:!0,loadingState:t.loadingState_},{useStore:!0,dataState:t.data_},{useError:!0,errorStoreService:t.errorStoreService},{useSuccess:!1})})()}deleteById(t){var o=this;return(0,l.A)(function*(){(yield(0,g.h)({fn:"group_member_requests_delete_by_id",args:{_request_id:t}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:o.errorStoreService},{useSuccess:!0,alertService:o.tuiAlertService,successMessage:"Group membership accepted!"}))().error||(0,F.x)("id_",t,o.data_)})()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac})}return i})();var ue=a(1375),at=a(7329);const I=()=>["group_level_"],lt=()=>["group_profile_image","group_name","group_leave"],ut=()=>["group_membership_image_headline","group_membership_name_headline","group_membership_leave_headline"],N=()=>["img_url_","group_name_","id_"],ct=()=>["Foto","Name","Verlassen"],dt=()=>["group_request_image","group_request_name","group_request_withdraw"],gt=()=>["group_request_image_headline","group_request_name_headline","group_request_withdraw_headline"],ft=()=>["Foto","Name","Entfernen"],_t=()=>["group_invitation_image","group_invitation_name","group_invitation_accept"],pt=()=>["group_invitation_image_headline","group_invitation_name_headline","group_invitation_accept_headline"],ht=()=>["Foto","Name","Entscheiden"];function mt(i,u){if(1&i&&(e.qex(0,1),e.nrm(1,"polity-filter-string",7),e.bVm()),2&i){const t=e.XpG();e.Y8G("formGroup",t.combinedForm)}}function vt(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-delete",8),e.bIt("remove",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.leaveGroup(r))})("openLink",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onNavigateToGroup(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(8,I))("dataCyTags",e.lJ4(9,lt))("dataCyTagsHeadline",e.lJ4(10,ut))("dataKeysForColumns",e.lJ4(11,N))("data",t.membershipsOfUserStore.dataFiltered())("headings",e.lJ4(12,ct))("isLoading",t.membershipsOfUserStore.loadingState().loading)("linkKey","group_id_")}}function wt(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-delete",8),e.bIt("remove",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.withdrawGroupRequest(r))})("openLink",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onNavigateToGroup(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(8,I))("dataCyTags",e.lJ4(9,dt))("dataCyTagsHeadline",e.lJ4(10,gt))("dataKeysForColumns",e.lJ4(11,N))("data",t.requestsOfUserStore.dataFiltered())("headings",e.lJ4(12,ft))("isLoading",t.requestsOfUserStore.loadingState().loading)("linkKey","group_id_")}}function St(i,u){if(1&i){const t=e.RV6();e.j41(0,"polity-table-three-icon-text-two-actions",9),e.bIt("firstAction",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.acceptGroupInvitation(r))})("secondAction",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.removeGroupInvitation(r))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("bonusKeys",e.lJ4(13,I))("dataCyTags",e.lJ4(14,_t))("dataCyTagsHeadline",e.lJ4(15,pt))("dataKeysForColumns",e.lJ4(16,N))("data",t.invitationsOfUserStore.dataFiltered())("headings",e.lJ4(17,ht))("isLoading",t.invitationsOfUserStore.loadingState().loading)("firstActionIcon","tuiIconCheck")("secondActionIcon","tuiIconX")("firstActionText","Accept")("secondActionText","Decline")("secondActionDataCyTag","group_invitation_decline")("linkKey","group_id_")}}const yt=[{path:"",component:$e},{path:"follower/edit",component:rt,canActivate:[d]},{path:"groups/edit",component:(()=>{class i{constructor(t,o){this.router=t,this.formBuilder=o,this.invitationsOfUserStore=(0,e.WQX)(ae),this.requestsOfUserStore=(0,e.WQX)(le),this.membershipsOfUserStore=(0,e.WQX)(ue.H),this.groupLoadHelperService=(0,e.WQX)(at.H),this.showFilter=!0,this.activeItemIndex=0,this.showGroupMemberships=!0,this.showGroupRequests=!1,this.showGroupInvitations=!1,this.signal=e.vPA,this.combinedForm=this.formBuilder.group({filterStringForm:this.formBuilder.group({searchString:[]})}),this.combinedForm.valueChanges.subscribe(()=>this.onCombinedFormChange())}ngOnInit(){var t=this;return(0,l.A)(function*(){yield t.membershipsOfUserStore.read()})()}onCombinedFormChange(){const t=this.combinedForm.get("filterStringForm")?.value.searchString;let o=!1;t&&(o=!0),this.showGroupMemberships?this.membershipsOfUserStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["group_name_","group_level_"],searchString:t}}):this.showGroupInvitations?this.invitationsOfUserStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["group_name_","group_level_"],searchString:t}}):this.requestsOfUserStore.setFilterState({filterByStringState:{filterByString:o,stringSearchKeys:["group_name_","group_level_"],searchString:t}})}onNavigateToGroup(t){console.log("emited: "+t),this.groupLoadHelperService.loadData(t),this.router.navigateByUrl("/group/"+t)}showGroupMembershipList(){this.membershipsOfUserStore.read(),this.showGroupInvitations=!1,this.showGroupRequests=!1,this.showGroupMemberships=!0}showGroupRequestList(){this.requestsOfUserStore.read(),this.showGroupInvitations=!1,this.showGroupMemberships=!1,this.showGroupRequests=!0}showGroupInvitationList(){this.invitationsOfUserStore.read(),this.showGroupMemberships=!1,this.showGroupRequests=!1,this.showGroupInvitations=!0}leaveGroup(t){var o=this;return(0,l.A)(function*(){yield o.membershipsOfUserStore.remove(t)})()}withdrawGroupRequest(t){var o=this;return(0,l.A)(function*(){yield o.requestsOfUserStore.deleteById(t)})()}acceptGroupInvitation(t){var o=this;return(0,l.A)(function*(){yield o.invitationsOfUserStore.acceptById(t)})()}removeGroupInvitation(t){var o=this;return(0,l.A)(function*(){yield o.invitationsOfUserStore.remove(t)})()}clearFilter(){this.combinedForm.reset(),this.showGroupMemberships?this.membershipsOfUserStore.resetFilterState():this.showGroupInvitations?this.invitationsOfUserStore.resetFilterState():this.requestsOfUserStore.resetFilterState()}toggleShowFilter(){this.showFilter=!this.showFilter,this.clearFilter()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(f.Ix),e.rXU(n.ok))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["polity-profile-groups-edit"]],standalone:!0,features:[e.Jv_([ae,le,ue.H]),e.aNF],decls:14,vars:10,consts:[[3,"showFilter","dataCyTag","headline"],[3,"formGroup"],[3,"clearFilter"],[3,"activeItemIndexChange","activeItemIndex"],["tuiTab","",3,"click"],[3,"bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","linkKey"],[3,"bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","firstActionIcon","secondActionIcon","firstActionText","secondActionText","secondActionDataCyTag","linkKey"],["placeholderText","Suche nach einer Gruppe","formGroupName","filterStringForm"],[3,"remove","openLink","bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","linkKey"],[3,"firstAction","secondAction","bonusKeys","dataCyTags","dataCyTagsHeadline","dataKeysForColumns","data","headings","isLoading","firstActionIcon","secondActionIcon","firstActionText","secondActionText","secondActionDataCyTag","linkKey"]],template:function(o,r){1&o&&(e.j41(0,"div")(1,"polity-filter-headline",0),e.bIt("showFilter",function(){return r.toggleShowFilter()}),e.k0s(),e.DNE(2,mt,2,1,"ng-container",1),e.j41(3,"polity-filter-clear",2),e.bIt("clearFilter",function(){return r.clearFilter()}),e.k0s()(),e.j41(4,"tui-tabs",3),e.mxI("activeItemIndexChange",function(c){return e.DH7(r.activeItemIndex,c)||(r.activeItemIndex=c),c}),e.j41(5,"button",4),e.bIt("click",function(){return r.showGroupMembershipList()}),e.EFF(6," Mitgliedschaften "),e.k0s(),e.j41(7,"button",4),e.bIt("click",function(){return r.showGroupRequestList()}),e.EFF(8," Mitgliedsanfragen "),e.k0s(),e.j41(9,"button",4),e.bIt("click",function(){return r.showGroupInvitationList()}),e.EFF(10," Gruppeneinladungen "),e.k0s()(),e.DNE(11,vt,1,13,"polity-table-three-icon-text-delete",5)(12,wt,1,13,"polity-table-three-icon-text-delete",5)(13,St,1,18,"polity-table-three-icon-text-two-actions",6)),2&o&&(e.R7$(),e.Y8G("dataCyTag","edit-group-memberships-and-group-requests")("headline","Deine Mitgliedschaften & Mitgliedsanfragen"),e.R7$(),e.vxM(r.showFilter?2:-1),e.R7$(2),e.R50("activeItemIndex",r.activeItemIndex),e.R7$(),e.BMQ("data-cy","show-group-memberships"),e.R7$(2),e.BMQ("data-cy","show-group-requests"),e.R7$(2),e.BMQ("data-cy","show-group-invitations"),e.R7$(2),e.vxM(r.showGroupMemberships?11:-1),e.R7$(),e.vxM(r.showGroupRequests?12:-1),e.R7$(),e.vxM(r.showGroupInvitations?13:-1))},dependencies:[ee.b,te.Y,q.f,n.YN,n.cb,n.X1,n.j4,n.$R,Z.X,y.J8,y.Qx,y.OV,y.vy,nt.n]})}return i})(),canActivate:[d]},{path:"edit",component:Re,canActivate:[d]}]},2935:(ce,T,a)=>{a.d(T,{H:()=>e,m:()=>O});var f=a(3953);let e=(()=>{class d{constructor(){this.indeterminate=!1,this.checked=!1,this.tuiCheckedChange=new f.bkB}get isChecked(){return this.checked}get isIndeterminate(){return this.indeterminate}set tuiChecked(n){this.checked=n||!1,this.indeterminate=null===n}onChange({checked:n}){this.checked=n,this.indeterminate=!1,this.tuiCheckedChange.emit(n)}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275dir=f.FsC({type:d,selectors:[["input","tuiChecked",""],["input","tuiCheckedChange",""]],hostVars:2,hostBindings:function(n,w){1&n&&f.bIt("change",function(h){return w.onChange(h.target)}),2&n&&f.Mr5("checked",w.isChecked)("indeterminate",w.isIndeterminate)},inputs:{tuiChecked:"tuiChecked"},outputs:{tuiCheckedChange:"tuiCheckedChange"}}),d})(),O=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=f.$C({type:d}),d.\u0275inj=f.G2t({}),d})()}}]);