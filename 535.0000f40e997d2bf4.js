"use strict";(self.webpackChunkpolity=self.webpackChunkpolity||[]).push([[535],{6535:(Q,F,s)=>{s.r(F),s.d(F,{SEARCH_ROUTES:()=>A});var m=s(467),e=s(3953),o=s(4341),c=s(2180),S=s(378),v=s(6686),y=s(6439),h=s(2942),d=s(928),p=s(1991),g=s(5143),f=s(5942),U=s(6287);let C=(()=>{class t{constructor(a){this.router=a,this.profile=(0,e.hFB)(null),this.isLoading=(0,e.hFB)({dataRequested:!1,loading:!1})}onClick(){var a=this;return(0,m.A)(function*(){yield a.router.navigate(["/profile/",a.profile()?.id_])})()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(U.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["polity-search-profile-result"]],inputs:{profile:[1,"profile"],isLoading:[1,"isLoading"]},standalone:!0,features:[e.aNF],decls:6,vars:9,consts:[["tuiCardLarge","","tuiCell","","tuiSurface","elevated",1,"full-width",3,"click"],["size","m","text","'test'",3,"autoColor","avatarUrl"],["tuiTitle",""],["tuiSubtitle",""]],template:function(i,r){if(1&i&&(e.j41(0,"button",0),e.bIt("click",function(){return r.onClick()}),e.nrm(1,"tui-avatar",1),e.j41(2,"div",2),e.EFF(3),e.j41(4,"div",3),e.EFF(5,"USER"),e.k0s()()()),2&i){let l,n;e.R7$(),e.AVh("tui-skeleton",r.isLoading().loading),e.FS9("avatarUrl",null==(l=r.profile())?null:l.img_url_),e.Y8G("autoColor",!0),e.R7$(),e.AVh("tui-skeleton",r.isLoading().loading),e.BMQ("data-cy","search-result-profile"),e.R7$(),e.Lme(" ",null==(n=r.profile())?null:n.first_name_," ",null==(n=r.profile())?null:n.last_name_," ")}},dependencies:[y.y,h.SA,h.j2,d.FT,d.PO,p.xk,p.cK,g.sD,g.TB,f.zr,f.yn]})}return t})();var R=s(177);let T=(()=>{class t{constructor(a){this.router=a,this.group=(0,e.hFB)(),this.isLoading=(0,e.hFB)({dataRequested:!1,loading:!1})}onClick(){var a=this;return(0,m.A)(function*(){yield a.router.navigate(["/group/",a.group()?.id_])})()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(U.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["polity-search-group-result"]],inputs:{group:[1,"group"],isLoading:[1,"isLoading"]},standalone:!0,features:[e.aNF],decls:6,vars:9,consts:[["tuiCardLarge","","tuiCell","","tuiSurface","elevated",1,"full-width",3,"click"],["size","m","text","'test'",3,"autoColor","avatarUrl"],["tuiTitle",""],["tuiSubtitle",""]],template:function(i,r){if(1&i&&(e.j41(0,"button",0),e.bIt("click",function(){return r.onClick()}),e.nrm(1,"tui-avatar",1),e.j41(2,"div",2),e.EFF(3),e.j41(4,"div",3),e.EFF(5),e.k0s()()()),2&i){let l,n,_;e.R7$(),e.AVh("tui-skeleton",r.isLoading().loading),e.FS9("avatarUrl",null==(l=r.group())?null:l.img_url_),e.Y8G("autoColor",!0),e.R7$(),e.AVh("tui-skeleton",r.isLoading().loading),e.BMQ("data-cy","search-result-profile"),e.R7$(),e.SpI(" ",null==(n=r.group())?null:n.name_," "),e.R7$(2),e.JRh(null==(_=r.group())?null:_.level_)}},dependencies:[y.y,h.SA,h.j2,d.FT,d.PO,p.xk,p.cK,g.sD,g.TB,f.zr,f.yn]})}return t})();var G=s(1568),j=s(3090),k=s(152);const B=()=>[];let E=(()=>{class t{constructor(){this.newSearch=(0,e.CGW)(),this.searchForm=new o.gE({search:new o.MJ("")}),this.searchForm.get("search")?.valueChanges.pipe((0,k.B)(1e3)).subscribe(()=>{let a=this.searchForm.controls.search.value;a&&this.newSearch.emit(a)})}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["polity-search-form"]],outputs:{newSearch:"newSearch"},standalone:!0,features:[e.aNF],decls:7,vars:8,consts:[[3,"formGroup"],[1,"tui-form__row"],["formControlName","search","tuiHintContent","Bitte einen Suchterm eingeben"],["formControlName","search",3,"error"]],template:function(i,r){1&i&&(e.j41(0,"form",0)(1,"div",1)(2,"tui-input",2),e.EFF(3," Gebe einen Suchterm ein "),e.k0s(),e.nrm(4,"tui-error",3),e.nI1(5,"tuiFieldError"),e.nI1(6,"async"),e.k0s()()),2&i&&(e.Y8G("formGroup",r.searchForm),e.R7$(2),e.BMQ("data-cy","search"),e.R7$(2),e.Y8G("error",e.bMT(6,5,e.bMT(5,3,e.lJ4(7,B)))))},dependencies:[R.Jj,o.YN,o.qT,o.BC,o.cb,o.X1,o.j4,o.JD,v.F,v.u,S.Hi,S.bs,c.zi,c.mp,c.Ws]})}return t})();function $(t,u){1&t&&(e.j41(0,"p"),e.EFF(1," Suche etwas. "),e.k0s()),2&t&&e.BMQ("data-cy","search-instruction")}function L(t,u){1&t&&(e.j41(0,"p"),e.EFF(1," Suche l\xe4uft... "),e.k0s()),2&t&&e.BMQ("data-cy","search-loading")}function M(t,u){1&t&&(e.j41(0,"p"),e.EFF(1," No profile search results. "),e.k0s()),2&t&&e.BMQ("data-cy","no-profile-search-results")}function P(t,u){1&t&&(e.j41(0,"p"),e.EFF(1," No group search results. "),e.k0s()),2&t&&e.BMQ("data-cy","no-group-search-results")}function N(t,u){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"polity-search-group-result",4),e.k0s()),2&t){const a=u.$implicit,i=e.XpG();e.BMQ("data-cy","group-search-results"),e.R7$(),e.Y8G("isLoading",i.searchGroupStore.loadingState())("group",a)}}function D(t,u){if(1&t&&(e.j41(0,"div",3),e.nrm(1,"polity-search-profile-result",5),e.k0s()),2&t){const a=u.$implicit,i=e.XpG();e.BMQ("data-cy","user-search-results"),e.R7$(),e.Y8G("isLoading",i.searchUserStore.loadingState())("profile",a)}}const A=[{path:"",component:(()=>{class t{constructor(){this.searchUserStore=(0,e.WQX)(G.l),this.searchGroupStore=(0,e.WQX)(j.p)}onKeyUp(a){var i=this;return(0,m.A)(function*(){yield Promise.all([i.searchUserStore.search(a),i.searchGroupStore.search(a)])})()}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["polity-search-user"]],standalone:!0,features:[e.aNF],decls:15,vars:4,consts:[[3,"newSearch"],[1,"center-grid"],[1,"grid","tui-space_top-4"],[1,"grid-item","tui-space_top-4"],[3,"isLoading","group"],[3,"isLoading","profile"]],template:function(i,r){1&i&&(e.j41(0,"polity-search-form",0),e.bIt("newSearch",function(n){return r.onKeyUp(n)}),e.k0s(),e.j41(1,"div",1),e.DNE(2,$,2,1,"p"),e.k0s(),e.j41(3,"div",1),e.DNE(4,L,2,1,"p"),e.k0s(),e.j41(5,"div",1),e.DNE(6,M,2,1,"p"),e.k0s(),e.j41(7,"div",1),e.DNE(8,P,2,1,"p"),e.k0s(),e.j41(9,"div",2),e.Z7z(10,N,2,3,"div",3,e.fX1),e.k0s(),e.j41(12,"div",2),e.Z7z(13,D,2,3,"div",3,e.fX1),e.k0s()),2&i&&(e.R7$(2),e.vxM(r.searchUserStore.loadingState().dataRequested&&r.searchUserStore.loadingState().dataRequested||r.searchUserStore.loadingState().loading||r.searchGroupStore.loadingState().loading?-1:2),e.R7$(2),e.vxM(r.searchUserStore.loadingState().loading||r.searchGroupStore.loadingState().loading?4:-1),e.R7$(2),e.vxM(r.searchUserStore.noData()&&r.searchUserStore.loadingState().dataRequested&&!r.searchUserStore.loadingState().loading?6:-1),e.R7$(2),e.vxM(r.searchGroupStore.noData()&&r.searchGroupStore.loadingState().dataRequested&&!r.searchGroupStore.loadingState().loading?8:-1),e.R7$(2),e.Dyx(r.searchGroupStore.data()),e.R7$(3),e.Dyx(r.searchUserStore.data()))},dependencies:[o.X1,c.zi,v.F,S.Hi,C,R.MD,T,E]})}return t})()}]}}]);