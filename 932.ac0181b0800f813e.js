"use strict";(self.webpackChunkpolity=self.webpackChunkpolity||[]).push([[932],{4932:(x,f,t)=>{t.r(f),t.d(f,{FEATURE_ROUTES:()=>S});var n=t(1278),e=t(1568),c=t(3090),p=t(5735),d=t(6287),i=t(3953);let o=(()=>{class u{static#t=this.\u0275fac=function(y){return new(y||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-search"]],standalone:!0,features:[i.aNF],decls:3,vars:1,template:function(y,l){1&y&&(i.j41(0,"h1"),i.EFF(1,"Suche in der POLITY Welt"),i.k0s(),i.nrm(2,"router-outlet")),2&y&&i.BMQ("data-cy","search-instruction")},dependencies:[d.n3],styles:[".grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:stretch}@media screen and (max-width: 47.9625em){.grid-item[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 48em){.grid-item[_ngcontent-%COMP%]{width:48%;margin:1%}}@media screen and (min-width: 64em){.grid-item[_ngcontent-%COMP%]{width:30%;margin:1%}}.center-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;width:100%;height:50vh}"]})}return u})();const s=[{text:"NEWS",icon:"tuiIconUser",link:"/office",dataCy:"nav-office-news",dataCyDesktop:"nav-office-news-desktop"}];var a=t(7207),r=t(4819),v=t(177),g=t(3933);let C=(()=>{class u{constructor(){this.items=(0,i.hFB)(g.k),this.activeItemIndex=1}onClick(h){h.badge=0}static#t=this.\u0275fac=function(y){return new(y||u)};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","politySecondBar",""]],inputs:{items:[1,"items"]},standalone:!0})}return u})();function z(u,k){if(1&u){const h=i.RV6();i.j41(0,"button",2),i.bIt("click",function(){const l=i.eBV(h).$implicit,b=i.XpG();return i.Njj(b.onClick(l))}),i.k0s()}if(2&u){const h=k.$implicit;i.FS9("tuiHint",h.text),i.Y8G("badge",h.badge)("icon",h.icon)("routerLink",h.link),i.BMQ("data-cy",h.dataCy)}}let A=(()=>{class u extends C{static#t=this.\u0275fac=(()=>{let h;return function(l){return(h||(h=i.xGo(u)))(l||u)}})();static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-second-bar-top"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:1,consts:[["tuiTabBar","",3,"activeItemIndexChange","activeItemIndex"],["routerLinkActive","","tuiTabBarItem","",1,"pointer-cursor",3,"badge","icon","routerLink","tuiHint"],["routerLinkActive","","tuiTabBarItem","",1,"pointer-cursor",3,"click","badge","icon","routerLink","tuiHint"]],template:function(y,l){1&y&&(i.j41(0,"nav",0),i.mxI("activeItemIndexChange",function(m){return i.DH7(l.activeItemIndex,m)||(l.activeItemIndex=m),m}),i.Z7z(1,z,1,5,"button",1,i.fX1),i.k0s(),i.j41(3,"h1"),i.EFF(4,"This is a dynamic top bar"),i.k0s()),2&y&&(i.R50("activeItemIndex",l.activeItemIndex),i.R7$(),i.Dyx(l.items()))},dependencies:[a.Zs,a.ew,a.lY,a.xt,d.iI,d.Wk,d.wQ,r.Q3,r.XZ,r.ZF,r.JL,r.AZ,v.MD],styles:["nav[_ngcontent-%COMP%]:before{box-shadow:none}nav[_ngcontent-%COMP%]{box-shadow:var(--tui-shadow-navigation);position:fixed;top:0;width:100%}button[_ngcontent-%COMP%]{margin:auto}"]})}return u})();function L(u,k){if(1&u){const h=i.RV6();i.j41(0,"button",2),i.bIt("click",function(){const l=i.eBV(h).$implicit,b=i.XpG();return i.Njj(b.onClick(l))}),i.k0s()}if(2&u){const h=k.$implicit;i.FS9("tuiHint",h.text),i.Y8G("badge",h.badge)("icon",h.icon)("routerLink",h.link),i.BMQ("data-cy",h.dataCyDesktop)}}let I=(()=>{class u extends C{static#t=this.\u0275fac=(()=>{let h;return function(l){return(h||(h=i.xGo(u)))(l||u)}})();static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-second-bar-side"]],standalone:!0,features:[i.Vt3,i.aNF],decls:3,vars:1,consts:[["tuiTabBar","",3,"activeItemIndexChange","activeItemIndex"],["routerLinkActive","","tuiTabBarItem","",1,"pointer-cursor",3,"badge","icon","routerLink","tuiHint"],["routerLinkActive","","tuiTabBarItem","",1,"pointer-cursor",3,"click","badge","icon","routerLink","tuiHint"]],template:function(y,l){1&y&&(i.j41(0,"nav",0),i.mxI("activeItemIndexChange",function(m){return i.DH7(l.activeItemIndex,m)||(l.activeItemIndex=m),m}),i.Z7z(1,L,1,5,"button",1,i.fX1),i.k0s()),2&y&&(i.R50("activeItemIndex",l.activeItemIndex),i.R7$(),i.Dyx(l.items()))},dependencies:[a.Zs,a.ew,a.lY,a.xt,d.iI,d.Wk,d.wQ,r.Q3,r.XZ,r.ZF,r.JL,r.AZ,v.MD],styles:["nav[_ngcontent-%COMP%]:before{box-shadow:none}nav[_ngcontent-%COMP%]{box-shadow:var(--tui-shadow-navigation);position:fixed;bottom:0;height:100%;width:80px;display:grid}button[_ngcontent-%COMP%]{margin:auto;width:100%}"]})}return u})(),M=(()=>{class u{constructor(){this.menuItemsProfile=s}static#t=this.\u0275fac=function(y){return new(y||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-office"]],standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[3,"items"]],template:function(y,l){1&y&&i.nrm(0,"polity-second-bar-top",0)(1,"h1")(2,"router-outlet")(3,"polity-second-bar-side",0),2&y&&(i.Y8G("items",l.menuItemsProfile),i.R7$(),i.BMQ("data-cy","office-instruction"),i.R7$(2),i.Y8G("items",l.menuItemsProfile))},dependencies:[A,d.n3,I]})}return u})();var U=t(467),D=t(2179),P=t(7329);let O=(()=>{class u{constructor(h){this.route=h,this.grouLoadHelperService=(0,i.WQX)(P.H),this.menuItemsGroup=(0,i.vPA)(D.C),this.menuItemsGroup=this.grouLoadHelperService.menuItemsGroup}ngOnInit(){var h=this;return(0,U.A)(function*(){const y=h.route.snapshot.params.id;yield h.grouLoadHelperService.loadData(y)})()}static#t=this.\u0275fac=function(y){return new(y||u)(i.rXU(d.nX))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-group"]],standalone:!0,features:[i.aNF],decls:3,vars:2,consts:[[3,"items"]],template:function(y,l){1&y&&i.nrm(0,"polity-second-bar-top",0)(1,"router-outlet")(2,"polity-second-bar-side",0),2&y&&(i.Y8G("items",l.menuItemsGroup()),i.R7$(2),i.Y8G("items",l.menuItemsGroup()))},dependencies:[d.n3,A,I]})}return u})(),w=(()=>{class u{static#t=this.\u0275fac=function(y){return new(y||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-new-home"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(y,l){1&y&&i.nrm(0,"router-outlet")},dependencies:[d.n3]})}return u})();var B=t(1631),_=t(4960);const S=[{path:"",component:p.R,loadChildren:()=>t.e(270).then(t.bind(t,3270)).then(u=>u.HOME_ROUTES)},{path:"search",component:o,loadChildren:()=>t.e(535).then(t.bind(t,6535)).then(u=>u.SEARCH_ROUTES),providers:[e.l,c.p]},{path:"profile/:id",component:(()=>{class u{constructor(h){this.route=h,this.profileLoadHelperService=(0,i.WQX)(_.p),this.menuItemsProfile=(0,i.vPA)(B.A),this.menuItemsProfile=this.profileLoadHelperService.menuItemsProfile}ngOnInit(){var h=this;return(0,U.A)(function*(){const y=h.route.snapshot.params.id;yield h.profileLoadHelperService.loadData(y)})()}static#t=this.\u0275fac=function(y){return new(y||u)(i.rXU(d.nX))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["polity-profile"]],standalone:!0,features:[i.aNF],decls:3,vars:2,consts:[[3,"items"]],template:function(y,l){1&y&&i.nrm(0,"polity-second-bar-top",0)(1,"router-outlet")(2,"polity-second-bar-side",0),2&y&&(i.Y8G("items",l.menuItemsProfile()),i.R7$(2),i.Y8G("items",l.menuItemsProfile()))},dependencies:[A,d.n3,I,v.MD],styles:["polity-second-bar-top[_ngcontent-%COMP%]{top:0;left:0;position:fixed}"]})}return u})(),loadChildren:()=>Promise.all([t.e(94),t.e(944),t.e(926),t.e(76),t.e(620)]).then(t.bind(t,7620)).then(u=>u.PROFILE_ROUTES)},{path:"home",component:p.R,loadChildren:()=>t.e(270).then(t.bind(t,3270)).then(u=>u.HOME_ROUTES)},{path:"new",component:w,loadChildren:()=>Promise.all([t.e(94),t.e(944),t.e(237),t.e(154),t.e(244)]).then(t.bind(t,7244)).then(u=>u.NEW_ROUTES),providers:[n.V]},{path:"office",component:M,loadChildren:()=>Promise.all([t.e(94),t.e(154),t.e(647)]).then(t.bind(t,2647)).then(u=>u.OFFICE_ROUTES)},{path:"group/:id",component:O,loadChildren:()=>Promise.all([t.e(94),t.e(944),t.e(926),t.e(237),t.e(133)]).then(t.bind(t,3133)).then(u=>u.GROUP_ROUTES)}]},1803:(x,f,t)=>{t.d(f,{N:()=>i});var n=t(467),e=t(1539),c=t(4886),p=t(7031),d=t(3953);let i=(()=>{class o extends e.I{constructor(){super({group_id_:"",follower_counter_:0,following_counter_:0,group_member_counter_:0})}read(a){var r=this;return(0,n.A)(function*(){yield(0,c.$)({fn:"group_counters_read",args:{_group_id:a}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!1})})()}increment(a){(0,p.G)(this.data_,a)}decrement(a){(0,p.K)(this.data_,a)}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},7771:(x,f,t)=>{t.d(f,{O:()=>o});var n=t(467),e=t(3953),c=t(1638),p=t(1803),d=t(4886),i=t(1539);let o=(()=>{class s extends i.I{constructor(){super(!1),this.groupCounterStore=(0,e.WQX)(p.N),this.groupStore=(0,e.WQX)(c.f)}checkIfFollowing(r){var v=this;return(0,n.A)(function*(){yield(0,d.$)({fn:"check_if_user_follows_group",args:{_following_id:r}},{useLoading:!0,loadingState:v.loadingState_},{useStore:!0,dataState:v.data_},{useError:!0,errorStoreService:v.errorStoreService},{useSuccess:!1})})()}follow(){var r=this;return(0,n.A)(function*(){const v=r.groupStore.data().id_;(yield(0,d.$)({fn:"follow_group_transaction",args:{_following_id:v}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!1},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!0,alertService:r.tuiAlertService,successMessage:"Followed successful!"}))().error||(r.groupCounterStore.increment("follower_counter_"),r.updateFollowStatus(!0))})()}unFollow(){var r=this;return(0,n.A)(function*(){const v=r.groupStore.data().id_;(yield(0,d.$)({fn:"unfollow_group_transaction",args:{_following_id:v}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!1},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!0,alertService:r.tuiAlertService,successMessage:"Unfollowed successful!"}))().error||(r.groupCounterStore.decrement("follower_counter_"),r.updateFollowStatus(!1))})()}updateFollowStatus(r){this.data_.set(r)}static#t=this.\u0275fac=function(v){return new(v||s)};static#e=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},945:(x,f,t)=>{t.d(f,{J:()=>d});var n=t(467),e=t(3953),c=t(1539),p=t(4886);let d=(()=>{class i extends c.I{constructor(){super("test"),this.isNoMember=(0,e.EWP)(()=>"no_member"===this.data_()),this.isMember=(0,e.EWP)(()=>"member"===this.data_()),this.isBoardMember=(0,e.EWP)(()=>"board_member"===this.data_()),this.isRequested=(0,e.EWP)(()=>"requested"===this.data_()),this.isInvited=(0,e.EWP)(()=>"invited"===this.data_())}read(s){var a=this;return(0,n.A)(function*(){yield(0,p.$)({fn:"check_group_membership_status",args:{_group_id:s}},{useLoading:!0,loadingState:a.loadingState_},{useStore:!0,dataState:a.data_},{useError:!0,errorStoreService:a.errorStoreService},{useSuccess:!1})})()}updateGroupMembershipStatus(s){this.data_.set(s)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},2179:(x,f,t)=>{t.d(f,{C:()=>n});const n=[{text:"HOME",icon:"tuiIconUser",link:"/group/:id",dataCy:"nav-group-wiki",dataCyDesktop:"nav-group-wiki-desktop"}]},7329:(x,f,t)=>{t.d(f,{H:()=>a});var n=t(467),e=t(3953);const c=[{text:"HOME",icon:"tuiIconUser",link:"/group/:id",dataCy:"nav-group-wiki",dataCyDesktop:"nav-group-wiki-desktop"},{text:"EDIT GROUP",icon:"tuiIconEdit2",link:"/group/:id/edit",dataCy:"nav-group-edit",dataCyDesktop:"nav-group-edit-desktop"}];var p=t(2179),d=t(1638),i=t(1803),o=t(7771),s=t(945);let a=(()=>{class r{constructor(){this.menuItemsGroup_=p.C,this.menuItemsGroup=(0,e.vPA)(this.menuItemsGroup_),this.groupStore=(0,e.WQX)(d.f),this.groupMembershipStatusStore=(0,e.WQX)(s.J),this.groupFollowStore=(0,e.WQX)(o.O),this.groupCounterStore=(0,e.WQX)(i.N)}loadData(g){var C=this;return(0,n.A)(function*(){console.log(g),yield C.groupMembershipStatusStore.read(g),yield Promise.all([C.checkMemberStatus(g),C.groupStore.read(g),C.groupCounterStore.read(g),C.groupFollowStore.checkIfFollowing(g)])})()}checkMemberStatus(g){var C=this;return(0,n.A)(function*(){console.log("check"),console.log(g),console.log(C.groupMembershipStatusStore.isBoardMember()),C.groupMembershipStatusStore.isBoardMember()?(C.menuItemsGroup_=c,C.menuItemsGroup_[0].link="/group/"+g,C.menuItemsGroup_[1].link="/group/"+g+"/edit",C.menuItemsGroup.set(C.menuItemsGroup_)):(C.menuItemsGroup_=p.C,C.menuItemsGroup_[0].link="/group/"+g,C.menuItemsGroup.set(C.menuItemsGroup_))})()}static#t=this.\u0275fac=function(C){return new(C||r)};static#e=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},1638:(x,f,t)=>{t.d(f,{f:()=>d});var n=t(467),e=t(1539),c=t(4886),p=t(3953);let d=(()=>{class i extends e.I{constructor(){super({id_:"",name_:"",level_:"regional",description_:"",img_url_:"",created_at_:"",updated_at_:""})}read(s){var a=this;return(0,n.A)(function*(){yield(0,c.$)({fn:"group_read",args:{_group_id:s}},{useLoading:!0,loadingState:a.loadingState_},{useStore:!0,dataState:a.data_},{useError:!0,errorStoreService:a.errorStoreService},{useSuccess:!1},{useExtractImgUrl:!0,bucket:"group_images",key:"img_url_"})})()}update(s){var a=this;return(0,n.A)(function*(){yield(0,c.$)({fn:"groups_update",args:{_id:a.data_().id_,_name:s.name_,_description:s.description_,_img_url:s.img_url_}},{useLoading:!1},{useStore:!0,dataState:a.data_},{useError:!0,errorStoreService:a.errorStoreService},{useSuccess:!0,alertService:a.tuiAlertService,successMessage:"Groups updated!"},{useExtractImgUrl:!0,bucket:"group_images",key:"img_url_"})})()}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=p.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},5735:(x,f,t)=>{t.d(f,{R:()=>I});var n=t(467),e=t(3953),c=t(6439),p=t(2942),d=t(928),i=t(1991),o=t(5143),s=t(5942),a=t(6287);let r=(()=>{class M{constructor(D){this.router=D,this.sessionId=(0,e.hFB)(""),this.isLoading=(0,e.hFB)(!0),this.profile=(0,e.hFB)(null),this.dataCyTag=(0,e.hFB)("profile-link-card")}onClick(){var D=this;return(0,n.A)(function*(){yield D.router.navigate(["/profile/",D.sessionId()])})()}static#t=this.\u0275fac=function(P){return new(P||M)(e.rXU(a.Ix))};static#e=this.\u0275cmp=e.VBU({type:M,selectors:[["polity-profile-link-card"]],inputs:{sessionId:[1,"sessionId"],isLoading:[1,"isLoading"],profile:[1,"profile"],dataCyTag:[1,"dataCyTag"]},standalone:!0,features:[e.aNF],decls:4,vars:10,consts:[["tuiCardLarge","","tuiCell","","tuiSurface","elevated",1,"full-width",3,"click"],["size","m",3,"autoColor","avatarUrl","text"],["tuiTitle",""]],template:function(P,O){if(1&P&&(e.j41(0,"button",0),e.bIt("click",function(){return O.onClick()}),e.nrm(1,"tui-avatar",1),e.j41(2,"div",2),e.EFF(3),e.k0s()()),2&P){let w,B,_;e.R7$(),e.FS9("avatarUrl",null==(w=O.profile())?null:w.profile_image_),e.FCK("text","",null==(B=O.profile())?null:B.first_name_," ",null==(B=O.profile())?null:B.last_name_,""),e.Y8G("autoColor",!0),e.R7$(),e.AVh("tui-skeleton",O.isLoading()),e.BMQ("data-cy",O.dataCyTag()),e.R7$(),e.Lme(" ",null==(_=O.profile())?null:_.first_name_," ",null==(_=O.profile())?null:_.last_name_," ")}},dependencies:[c.y,p.SA,p.j2,d.FT,d.PO,i.xk,i.cK,o.sD,o.TB,s.zr,s.yn],styles:[".title[_ngcontent-%COMP%]{font:var(--tui-font-heading-4);margin:2px}.title_size_s[_ngcontent-%COMP%]{font:var(--tui-font-heading-6)}"]})}return M})();var v=t(1888);let g=(()=>{class M{constructor(D){this.router=D,this.isLoading=(0,e.hFB)(!0),this.group=(0,e.hFB)(null),this.dataCyTag=(0,e.hFB)("group-link-card")}onClick(){var D=this;return(0,n.A)(function*(){yield D.router.navigate(["/group/",D.group()?.group_id_])})()}static#t=this.\u0275fac=function(P){return new(P||M)(e.rXU(a.Ix))};static#e=this.\u0275cmp=e.VBU({type:M,selectors:[["polity-group-link-card"]],inputs:{isLoading:[1,"isLoading"],group:[1,"group"],dataCyTag:[1,"dataCyTag"]},standalone:!0,features:[e.aNF],decls:6,vars:10,consts:[["tuiCardLarge","","tuiCell","","tuiSurface","elevated",1,"full-width",3,"click"],["size","m",3,"autoColor","avatarUrl","text"],["tuiTitle",""],["tuiSubtitle",""]],template:function(P,O){if(1&P&&(e.j41(0,"button",0),e.bIt("click",function(){return O.onClick()}),e.nrm(1,"tui-avatar",1),e.j41(2,"div",2),e.EFF(3),e.j41(4,"div",3),e.EFF(5),e.k0s()()()),2&P){let w,B,_,T;e.R7$(),e.FS9("avatarUrl",null==(w=O.group())?null:w.img_url_),e.FCK("text","",null==(B=O.group())?null:B.group_name_," ",null==(B=O.group())?null:B.group_name_,""),e.Y8G("autoColor",!0),e.R7$(),e.AVh("tui-skeleton",O.isLoading()),e.BMQ("data-cy","group-paragraph"),e.R7$(),e.SpI(" ",null==(_=O.group())?null:_.group_name_," "),e.R7$(2),e.JRh(null==(T=O.group())?null:T.group_level_)}},dependencies:[p.SA,p.j2,d.FT,d.PO,i.xk,i.cK,o.sD,o.TB,s.zr,s.yn,v.d],styles:[".title[_ngcontent-%COMP%]{font:var(--tui-font-heading-4);margin:2px}.title_size_s[_ngcontent-%COMP%]{font:var(--tui-font-heading-6)}"]})}return M})();var C=t(7086),z=t(7500),A=t(1375);function L(M,U){if(1&M&&(e.j41(0,"div",1),e.nrm(1,"polity-group-link-card",2),e.k0s()),2&M){const D=U.$implicit,P=e.XpG();e.R7$(),e.AVh("tui-skeleton",P.membershipsOfUserStore.loadingState().loading),e.Y8G("dataCyTag","group-of-user-first-name")("isLoading",P.membershipsOfUserStore.loadingState().loading)("group",D),e.BMQ("data-cy","to-group-of-user")}}let I=(()=>{class M{constructor(){this.profileStore=(0,e.WQX)(C.X),this.sessionStore=(0,e.WQX)(z.c),this.membershipsOfUserStore=(0,e.WQX)(A.H),this.sessionId=this.sessionStore.getSessionId()}ngOnInit(){var D=this;return(0,n.A)(function*(){Promise.all([D.profileStore.read(D.sessionId),D.membershipsOfUserStore.read()])})()}static#t=this.\u0275fac=function(P){return new(P||M)};static#e=this.\u0275cmp=e.VBU({type:M,selectors:[["polity-home"]],standalone:!0,features:[e.Jv_([A.H,C.X]),e.aNF],decls:7,vars:8,consts:[[3,"dataCyTag","isLoading","profile","sessionId"],[1,"tui-space_top-4"],[3,"dataCyTag","isLoading","group"]],template:function(P,O){1&P&&(e.j41(0,"h1"),e.EFF(1," Dein Profil.\n"),e.k0s(),e.nrm(2,"polity-profile-link-card",0),e.j41(3,"h1",1),e.EFF(4,"Deine Gruppen"),e.k0s(),e.Z7z(5,L,2,6,"div",1,e.fX1)),2&P&&(e.BMQ("data-cy","home-instruction"),e.R7$(2),e.AVh("tui-skeleton",O.profileStore.loadingState().loading),e.Y8G("dataCyTag","home-first-name")("isLoading",O.profileStore.loadingState().loading)("profile",O.profileStore.data())("sessionId",O.sessionId),e.BMQ("data-cy","home-to-profile"),e.R7$(3),e.Dyx(O.membershipsOfUserStore.data()))},dependencies:[r,g]})}return M})()},1278:(x,f,t)=>{t.d(f,{V:()=>i});var n=t(467),e=t(3953),c=t(6287),p=t(1539),d=t(4886);let i=(()=>{class o extends p.I{constructor(){super(void 0),this.router=(0,e.WQX)(c.Ix)}create(a){var r=this;return(0,n.A)(function*(){yield(0,d.$)({fn:"groups_create_transaction",args:{_name:a.name,_description:a.description,_level:a.level,_invited_members:a.invited_members}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!0,alertService:r.tuiAlertService,successMessage:"CreateGroup loaded!"}),r.router.navigate(["/home"])})()}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},4153:(x,f,t)=>{t.d(f,{D:()=>i});var n=t(467),e=t(1539),c=t(4886),p=t(7031),d=t(3953);let i=(()=>{class o extends e.I{constructor(){super({profile_id_:"",follower_counter_:0,following_counter_:0,group_membership_counter_:0})}read(a){var r=this;return(0,n.A)(function*(){yield(0,c.$)({fn:"profile_counters_read",args:{_user_id:a}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!1})})()}increment(a){(0,p.G)(this.data_,a)}decrement(a){(0,p.K)(this.data_,a)}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=d.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},1056:(x,f,t)=>{t.d(f,{W:()=>s});var n=t(467),e=t(3953),c=t(7086),p=t(4153),d=t(6530),i=t(1539),o=t(4886);let s=(()=>{class a extends i.I{constructor(){super(!0,{loading:!1,dataRequested:!1}),this.profileStore=(0,e.WQX)(c.X),this.profileCouterStore=(0,e.WQX)(p.D)}checkIfFollowing(v){var g=this;return(0,n.A)(function*(){yield(0,o.$)({fn:"check_if_user_follows_profile",args:{_following_id:v}},{useLoading:!0,loadingState:g.loadingState_},{useStore:!0,dataState:g.data_},{useError:!0,errorStoreService:g.errorStoreService},{useSuccess:!1})})()}follow(){var v=this;return(0,n.A)(function*(){const g=v.profileStore.data().profile_id_;console.log("followingId: ",g),yield(0,d.h)({fn:"follow_profile_transaction",args:{_following_id:g}},{useLoading:!0,loadingState:v.loadingState_},{useStore:!1},{useError:!0,errorStoreService:v.errorStoreService},{useSuccess:!0,alertService:v.tuiAlertService,successMessage:"Followed!"}),v.profileCouterStore.increment("follower_counter_"),v.updateFollowStatus(!0)})()}unfollow(){var v=this;return(0,n.A)(function*(){const g=v.profileStore.data().profile_id_;console.log("followingId: ",g),yield(0,d.h)({fn:"unfollow_profile_transaction",args:{_following_id:g}},{useLoading:!0,loadingState:v.loadingState_},{useStore:!1},{useError:!0,errorStoreService:v.errorStoreService},{useSuccess:!0,alertService:v.tuiAlertService,successMessage:"Followed!"}),v.profileCouterStore.decrement("follower_counter_"),v.updateFollowStatus(!1)})()}updateFollowStatus(v){this.data_.set(v)}static#t=this.\u0275fac=function(g){return new(g||a)};static#e=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},1375:(x,f,t)=>{t.d(f,{H:()=>o});var n=t(467),e=t(3953),c=t(1844),p=t(6530),d=t(2298),i=t(4153);let o=(()=>{class s extends c.W{constructor(){super({loading:!1,dataRequested:!1}),this.profileCounterStore=(0,e.WQX)(i.D)}read(){var r=this;return(0,n.A)(function*(){yield(0,p.h)({fn:"groups_of_user_read"},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!1},{useExtractImgUrl:!0,key:"img_url_",bucket:"group_images"})})()}remove(r){var v=this;return(0,n.A)(function*(){(yield(0,p.h)({fn:"leave_group_by_membership_id_transaction",args:{_membership_id:r}},{useLoading:!1},{useStore:!1},{useError:!0,errorStoreService:v.errorStoreService},{useSuccess:!0,alertService:v.tuiAlertService,successMessage:"Member removed"}))().error||((0,d.x)("id_",r,v.data_),v.profileCounterStore.decrement("group_membership_counter_"))})()}static#t=this.\u0275fac=function(v){return new(v||s)};static#e=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})()},1631:(x,f,t)=>{t.d(f,{A:()=>n});const n=[{text:"HOME",icon:"tuiIconUser",link:"/profile",dataCy:"nav-profile-wiki",dataCyDesktop:"nav-profile-wiki-desktop"}]},4960:(x,f,t)=>{t.d(f,{p:()=>a});var n=t(467),e=t(3953),c=t(1056),p=t(4153),d=t(7086);const i=[{text:"HOME",icon:"tuiIconUser",link:"/profile/:id",dataCy:"nav-profile-wiki",dataCyDesktop:"nav-profile-wiki-desktop"},{text:"EDIT PROFILE",icon:"tuiIconEdit2",link:"/profile/:id/edit",dataCy:"nav-profile-edit",dataCyDesktop:"nav-profile-edit-desktop"},{text:"EDIT GROUPS",icon:"tuiIconUsers",link:"/profile/:id/groups/edit",dataCy:"nav-groups-edit",dataCyDesktop:"nav-groups-edit-desktop"},{text:"EDIT FOLLOWERS",icon:"tuiIconUser",link:"/profile/id/follower/edit",dataCy:"nav-follower-edit",dataCyDesktop:"nav-follower-edit-desktop"}];var o=t(1631),s=t(7500);let a=(()=>{class r{constructor(){this.menuItemsProfile_=o.A,this.menuItemsProfile=(0,e.vPA)(this.menuItemsProfile_),this.sessionStore=(0,e.WQX)(s.c),this.profileStore=(0,e.WQX)(d.X),this.profileCounterStore=(0,e.WQX)(p.D),this.profileFollowStore=(0,e.WQX)(c.W)}loadData(g){var C=this;return(0,n.A)(function*(){yield Promise.all([C.checkIsOwner(g,C.sessionStore.getSessionId()),C.profileStore.read(g),C.profileCounterStore.read(g),C.profileFollowStore.checkIfFollowing(g)])})()}checkIsOwner(g,C){this.profileStore.checkIsOwner(g,C),this.profileStore.isOwner()?(this.menuItemsProfile_=i,this.menuItemsProfile_[0].link="/profile/"+g,this.menuItemsProfile_[1].link="/profile/"+g+"/edit",this.menuItemsProfile_[2].link="/profile/"+g+"/groups/edit",this.menuItemsProfile_[3].link="/profile/"+g+"/follower/edit",this.menuItemsProfile.set(this.menuItemsProfile_)):(this.menuItemsProfile_=o.A,this.menuItemsProfile_[0].link="/profile/"+g,this.menuItemsProfile.set(this.menuItemsProfile_))}static#t=this.\u0275fac=function(C){return new(C||r)};static#e=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},3090:(x,f,t)=>{t.d(f,{p:()=>i});var n=t(467),e=t(3953),c=t(6914),p=t(1844),d=t(6530);let i=(()=>{class o extends p.W{constructor(){super({loading:!1,dataRequested:!1}),this.noData=(0,e.EWP)(()=>!(this.data_().length>0))}search(a){var r=this;return(0,n.A)(function*(){r.emptyStore(),a=(0,c.k)(a),yield(0,d.h)({fn:"search_group",args:{_search_term:a}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!0,alertService:r.tuiAlertService,successMessage:"SearchGroup loaded!"},{useExtractImgUrl:!0,key:"img_url_",bucket:"group_images"})})()}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})()},1568:(x,f,t)=>{t.d(f,{l:()=>i});var n=t(467),e=t(3953),c=t(6914),p=t(1844),d=t(6530);let i=(()=>{class o extends p.W{constructor(){super({loading:!1,dataRequested:!1}),this.noData=(0,e.EWP)(()=>!(this.data_().length>0))}search(a){var r=this;return(0,n.A)(function*(){a=(0,c.k)(a),r.emptyStore(),yield(0,d.h)({fn:"search_user",args:{_search_term:a}},{useLoading:!0,loadingState:r.loadingState_},{useStore:!0,dataState:r.data_},{useError:!0,errorStoreService:r.errorStoreService},{useSuccess:!0,alertService:r.tuiAlertService,successMessage:"SearchUser loaded!"},{useExtractImgUrl:!0,key:"img_url_",bucket:"profile_images"})})()}static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})()},6914:(x,f,t)=>{function n(e){return e.endsWith(" ")&&(e=e.substring(0,e.length-1)),e.replace(/ /g,"|")}t.d(f,{k:()=>n})},2298:(x,f,t)=>{function n(e,c,p){const d=p().filter(i=>i[e]!==c);return p.set(d),d}t.d(f,{x:()=>n})},6530:(x,f,t)=>{t.d(f,{h:()=>r});var n=t(467),e=t(1663),c=t(3953),p=t(5101),d=t(7261),i=t(9893);function s(){return(s=(0,n.A)(function*(g,C={},z){return yield i.v.rpc(g,C,z)})).apply(this,arguments)}var a=t(7528);function r(g){return v.apply(this,arguments)}function v(){return v=(0,n.A)(function*(g,C={useLoading:!1},z={useStore:!1},A={useError:!1},L={useSuccess:!1},I={useExtractImgUrl:!1}){C.useLoading&&C.loadingState&&(0,e.KK)(C.loadingState);const M=yield function o(g){return s.apply(this,arguments)}(g.fn,g.args,g.options);A.useError&&A.errorStoreService&&M.error&&(0,d.j)(M.error.message,!0,A.errorStoreService),L.useSuccess&&L.alertService&&!M.error&&(0,p.S)(L.alertService,L.successMessage),I.useExtractImgUrl&&I.key&&I.bucket&&!M.error&&(M.data=yield(0,a.rA)(M.data,I.bucket,I.key));let U=z.defaultReturn;return!M.error&&z.useStore&&z.dataState&&(U=M.data,z.dataState.set(U)),C.useLoading&&C.loadingState&&(0,e.Y3)(C.loadingState),(0,c.vPA)(M)}),v.apply(this,arguments)}},7031:(x,f,t)=>{function n(c,p){c.set({...c(),[p]:c()[p]+1})}function e(c,p){c.set({...c(),[p]:c()[p]-1})}t.d(f,{G:()=>n,K:()=>e})},1888:(x,f,t)=>{t.d(f,{d:()=>c});var n=t(3953);let c=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=n.$C({type:p}),p.\u0275inj=n.G2t({}),p})()},928:(x,f,t)=>{t.d(f,{FT:()=>i,PO:()=>d});var n=t(3953),e=t(996);let c=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=n.VBU({type:o,selectors:[["ng-component"]],hostAttrs:[1,"tui-card"],decls:0,vars:0,template:function(a,r){},styles:["[tuiCardMedium],[tuiCardLarge]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;position:relative;display:flex;align-items:flex-start;flex-shrink:0;text-decoration:none;overscroll-behavior:contain}[tuiCardMedium][tuiTitle],[tuiCardLarge][tuiTitle],[tuiCardMedium] [tuiTitle]:not([tuiCell] *),[tuiCardLarge] [tuiTitle]:not([tuiCell] *){font-weight:bold}[tuiCardMedium] [tuiTitle],[tuiCardLarge] [tuiTitle],[tuiCardMedium] [tuiSubtitle],[tuiCardLarge] [tuiSubtitle]{max-width:100%}[tuiCardMedium]>*,[tuiCardLarge]>*{scrollbar-width:none;-ms-overflow-style:none}[tuiCardMedium]>*::-webkit-scrollbar,[tuiCardLarge]>*::-webkit-scrollbar,[tuiCardMedium]>*::-webkit-scrollbar-thumb,[tuiCardLarge]>*::-webkit-scrollbar-thumb{display:none}[tuiCardMedium]{width:8.75rem;height:8.75rem;flex-direction:column;justify-content:space-between;padding:.75rem;border-radius:var(--tui-radius-l);box-sizing:border-box}[tuiCardMedium][tuiTitle]{padding:.625rem .75rem}[tuiCardMedium] [tuiTitle]{margin:-.125rem 0}[tuiCardMedium] [tuiSubtitle]{color:var(--tui-text-01)}[tuiCardLarge][data-space]{--t-gap: .75rem;--t-radius: var(--tui-radius-l);--t-comp: -.25rem;--t-padding: .75rem;--t-dim: calc(var(--t-padding) + var(--t-comp));font:var(--tui-font-text-m);padding:var(--t-padding);border-radius:var(--t-radius);box-sizing:border-box}[tuiCardLarge][data-space][data-space=normal]{--t-radius: 1.5rem;--t-padding: 1.5rem;--t-gap: 1.5rem}[tuiCardLarge][data-space][data-space=compact]{--t-radius: 1rem;--t-padding: 1.25rem;--t-gap: 1.25rem}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader]){flex-direction:column;grid-gap:var(--t-gap);gap:var(--t-gap);align-items:stretch}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader])>:last-child:not([tuiCell]){margin-top:auto}[tuiCardLarge][data-space][tuiHeader]{padding:var(--t-dim) var(--t-dim) var(--t-dim) var(--t-padding)}[tuiCardLarge][data-space][tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space]>[tuiHeader]{margin:var(--t-comp) var(--t-comp) calc(1.5 * var(--t-comp)) 0}[tuiCardLarge][data-space]>[tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space] [tuiCell]{width:-webkit-fill-available;width:stretch;padding:.5rem;margin:-.5rem -.5rem -.75rem;border-radius:var(--tui-radius-l)}[tuiCardLarge][data-space]>[tuiLink]:last-child{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-bottom:var(--t-comp)}\n"],encapsulation:2,changeDetection:0}),o})(),d=(()=>{class o{constructor(a){this.space="normal",a.addComponent(c)}}return o.\u0275fac=function(a){return new(a||o)(n.rXU(e.vA))},o.\u0275dir=n.FsC({type:o,selectors:[["","tuiCardLarge",""]],hostAttrs:["tuiCardLarge",""],hostVars:1,hostBindings:function(a,r){2&a&&n.BMQ("data-space",r.space||"normal")},inputs:{space:[0,"tuiCardLarge","space"]}}),o})(),i=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({}),o})()},1991:(x,f,t)=>{t.d(f,{cK:()=>w,xk:()=>B});var n=t(3953),e=t(996),c=t(9925);const s={appearance:"",round:!0,size:"l"},a=(0,c.gc)(s);function r(_){return(0,c.eC)(a,_,s)}const A={size:"l",appearance:"primary"},L=(0,c.gc)(A);function I(_){return(0,c.eC)(L,_,A)}let O=(()=>{class _{}return _.\u0275fac=function(S){return new(S||_)},_.\u0275cmp=n.VBU({type:_,selectors:[["ng-component"]],hostAttrs:[1,"tui-cell"],decls:0,vars:0,template:function(S,u){},styles:["[tuiCell]{--tui-height: calc(var(--tui-height-s) - .5rem);--t-padding: .125rem 1rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;box-sizing:content-box;isolation:isolate;color:var(--tui-text-01);padding:var(--t-padding);min-height:var(--t-height)}[tuiCell] [tuiAccessories]{position:relative;display:flex;max-height:var(--t-height);align-items:center;align-self:stretch}[tuiCell] [tuiCellActions]{position:absolute;right:0;z-index:1;padding-right:inherit}[tuiCell] [tuiCellActions]~*{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}[tuiCell] [tuiCellActions] button,[tuiCell] [tuiCellActions] a{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[tuiCell] [tuiCellActions] button:focus-visible,[tuiCell] [tuiCellActions] a:focus-visible{opacity:1}[tuiCell] [tuiSubtitle]{display:flex;align-items:center;grid-gap:.25rem;gap:.25rem;color:var(--tui-text-02)}[tuiCell] [tuiTitle]{flex-shrink:7;-webkit-margin-end:auto;margin-inline-end:auto;align-items:normal;text-align:left}[tuiCell] [tuiTitle]~[tuiTitle]{flex-shrink:3;-webkit-margin-end:0;margin-inline-end:0;text-align:right;align-items:flex-end}[tuiCell] tui-badge-notification[data-size=xs]{position:absolute;top:50%;transform:translateY(-50%);left:-.625rem}[tuiCell][data-size=s]{--t-height: calc(var(--tui-height-s) - .5rem);--t-padding: .125rem 1rem}[tuiCell][data-size=s] [tuiTitle]{max-height:100%;font:var(--tui-font-text-s-2);grid-gap:0;gap:0}[tuiCell][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-xs-s)}[tuiCell][data-size=s]>*:not(:first-child),[tuiCell][data-size=s]>[tuiAccessories]>*:not(:first-child){-webkit-margin-start:.5rem;margin-inline-start:.5rem}[tuiCell][data-size=s]>tui-avatar,[tuiCell][data-size=s]>tui-avatar-stack tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar,[tuiCell][data-size=s]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 1.5rem}[tuiCell][data-size=m]{--t-height: calc(var(--tui-height-m) - .75rem);--t-padding: .375rem 1rem}[tuiCell][data-size=m] [tuiTitle]{font:var(--tui-font-text-s-2);grid-gap:.125rem;gap:.125rem}[tuiCell][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-xs-2)}[tuiCell][data-size=m]>*:not(:first-child),[tuiCell][data-size=m]>[tuiAccessories]>*:not(:first-child){-webkit-margin-start:.75rem;margin-inline-start:.75rem}[tuiCell][data-size=m]>tui-avatar,[tuiCell][data-size=m]>tui-avatar-stack tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar,[tuiCell][data-size=m]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2rem}[tuiCell][data-size=l]{--t-height: calc(var(--tui-height-l) - 1rem);--t-padding: .5rem 1rem}[tuiCell][data-size=l]>*:not(:first-child),[tuiCell][data-size=l]>[tuiAccessories]>*:not(:first-child){-webkit-margin-start:1rem;margin-inline-start:1rem}[tuiCell][data-size=l]>tui-avatar,[tuiCell][data-size=l]>tui-avatar-stack tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar,[tuiCell][data-size=l]>[tuiAccessories] tui-avatar-stack tui-avatar{--t-size: 2.5rem}[tuiCell]:hover [tuiCellActions]~*{opacity:0}[tuiCell]:hover [tuiCellActions] button,[tuiCell]:hover [tuiCellActions] a{opacity:1}[tuiOption] [tuiCell],tui-primitive-textfield [tuiCell]{padding:0}@media (hover: hover) and (pointer: fine){a[tuiCell]:not([tuiSurface]):hover,button[tuiCell]:not([tuiSurface]):hover{background:var(--tui-clear);cursor:pointer}}\n"],encapsulation:2,changeDetection:0}),_})(),w=(()=>{class _{constructor(S){this.size="l",S.addComponent(O)}}return _.\u0275fac=function(S){return new(S||_)(n.rXU(e.vA))},_.\u0275dir=n.FsC({type:_,selectors:[["","tuiCell","",5,"ng-template"]],hostAttrs:["tuiCell",""],hostVars:1,hostBindings:function(S,u){2&S&&n.BMQ("data-size",u.size||"l")},inputs:{size:[0,"tuiCell","size"]},features:[n.Jv_([r({size:"s"}),I({size:"s"})])]}),_})(),B=(()=>{class _{}return _.\u0275fac=function(S){return new(S||_)},_.\u0275mod=n.$C({type:_}),_.\u0275inj=n.G2t({}),_})()},5143:(x,f,t)=>{t.d(f,{TB:()=>p,sD:()=>d});var n=t(3953),e=t(996);let c=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=n.VBU({type:i,selectors:[["ng-component"]],hostAttrs:[1,"tui-surface-styles"],decls:0,vars:0,template:function(s,a){},styles:['[data-surface]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--tui-gap: .25rem;position:relative;box-sizing:border-box;background:none no-repeat;background-size:cover;overflow:hidden;isolation:isolate;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:background,border-radius,box-shadow,transform,-webkit-backdrop-filter,-webkit-mask!important;transition-property:backdrop-filter,background,border-radius,box-shadow,mask,transform!important;transition-property:backdrop-filter,background,border-radius,box-shadow,mask,transform,-webkit-backdrop-filter,-webkit-mask!important}[data-surface]:focus-visible{outline-color:var(--tui-focus)}@supports (not (-moz-appearance: none)) and (not (-webkit-hyphens: none)){[data-surface]:before{mix-blend-mode:multiply}}button[data-surface]{cursor:pointer}[data-surface]:before,[data-surface]:after,[tuiSurfaceLayer]:before,[tuiSurfaceLayer]:after{position:absolute;top:0;left:0;width:100%;height:100%;transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";z-index:-1;border-radius:inherit;pointer-events:none;background-size:cover;background-repeat:no-repeat;transition-property:opacity,transform,-webkit-backdrop-filter;transition-property:opacity,backdrop-filter,transform;transition-property:opacity,backdrop-filter,transform,-webkit-backdrop-filter}[tuiSurfaceLayer]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;width:100%;height:100%;position:absolute!important;z-index:-1;object-fit:cover;border-radius:inherit;box-sizing:border-box;transition-property:box-shadow,filter,padding}input[tuiSurfaceLayer]+[tuiSurfaceLayer]{will-change:padding;background-clip:content-box;overflow:clip;overflow-clip-margin:content-box}input[tuiSurfaceLayer]:checked+[tuiSurfaceLayer]{padding:var(--tui-gap)}input[tuiSurfaceLayer]:focus-visible+[tuiSurfaceLayer]{padding:var(--tui-gap)}@media (hover: hover) and (pointer: fine){[data-surface]:hover input[tuiSurfaceLayer]+[tuiSurfaceLayer]{padding:var(--tui-gap)}}input[tuiSurfaceLayer]{color:var(--tui-accent);-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;border-radius:inherit;outline:none;box-shadow:inset 0 0,inset 0 0 var(--tui-base-03)}input[tuiSurfaceLayer]:checked{box-shadow:inset 0 0 0 calc(var(--tui-gap) / 2),inset 0 0 var(--tui-base-03)}input[tuiSurfaceLayer]:focus-visible{box-shadow:inset 0 0,inset 0 0 0 calc(var(--tui-gap) / 2) var(--tui-base-03)}input[tuiSurfaceLayer]:checked:focus-visible{filter:brightness(.7);box-shadow:inset 0 0 0 calc(var(--tui-gap) / 2),inset 0 0 0 calc(var(--tui-gap) / 2) var(--tui-base-03)}@media (hover: hover) and (pointer: fine){[data-surface]:hover input[tuiSurfaceLayer]{box-shadow:inset 0 0,inset 0 0 0 calc(var(--tui-gap) / 2) var(--tui-base-03)}[data-surface]:hover input[tuiSurfaceLayer]:checked{filter:brightness(.9);box-shadow:inset 0 0 0 calc(var(--tui-gap) / 2),inset 0 0 0 calc(var(--tui-gap) / 2) var(--tui-base-03)}}[tuiSurface][data-surface=elevated]{box-shadow:var(--tui-shadow);background-color:var(--tui-elevation-01)}button[tuiSurface][data-surface=elevated]:active,a[tuiSurface][data-surface=elevated]:active{box-shadow:var(--tui-shadow);transform:scale(.95)}@media (hover: hover) and (pointer: fine){button[tuiSurface][data-surface=elevated]:hover,a[tuiSurface][data-surface=elevated]:hover{box-shadow:var(--tui-shadow-hover);transform:translateY(-.25rem);background:var(--tui-elevation-01)}}[tuiSurface][data-surface=flat]{background-color:var(--tui-clear)}button[tuiSurface][data-surface=flat]:active,a[tuiSurface][data-surface=flat]:active{transform:scale(.95)}@media (hover: hover) and (pointer: fine){button[tuiSurface][data-surface=flat]:hover,a[tuiSurface][data-surface=flat]:hover{transform:scale(1.15)}}\n'],encapsulation:2,changeDetection:0}),i})(),p=(()=>{class i{constructor(s){this.tuiSurface="",s.addComponent(c)}}return i.\u0275fac=function(s){return new(s||i)(n.rXU(e.vA))},i.\u0275dir=n.FsC({type:i,selectors:[["","tuiSurface",""]],hostAttrs:["tuiSurface",""],hostVars:1,hostBindings:function(s,a){2&s&&n.BMQ("data-surface",a.tuiSurface)},inputs:{tuiSurface:"tuiSurface"}}),i})(),d=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({}),i})()},5942:(x,f,t)=>{t.d(f,{yn:()=>p,zr:()=>d});var n=t(3953),e=t(996);let c=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=n.VBU({type:i,selectors:[["ng-component"]],hostAttrs:[1,"tui-title"],decls:0,vars:0,template:function(s,a){},styles:["[tuiTitle]{position:relative;display:flex;flex-direction:column;text-align:left;grid-gap:.25rem;gap:.25rem;margin:0;font:var(--tui-font-text-m-2)}[tuiTitle][data-size=s]{grid-gap:.125rem;gap:.125rem;font:var(--tui-font-text-s)}[tuiTitle][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-xs)}[tuiTitle][data-size=m]{grid-gap:.125rem;gap:.125rem;font:var(--tui-font-heading-5)}[tuiTitle][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiTitle][data-size=l]{grid-gap:.5rem;gap:.5rem;font:var(--tui-font-heading-3)}[tuiTitle][data-size=l] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiSubtitle]{font:var(--tui-font-text-s-2)}[tuiOption] [tuiSubtitle]{color:var(--tui-text-02)}\n"],encapsulation:2,changeDetection:0}),i})(),p=(()=>{class i{constructor(s){this.size="",s.addComponent(c)}}return i.\u0275fac=function(s){return new(s||i)(n.rXU(e.vA))},i.\u0275dir=n.FsC({type:i,selectors:[["","tuiTitle",""]],hostAttrs:["tuiTitle",""],hostVars:1,hostBindings:function(s,a){2&s&&n.BMQ("data-size",a.size||null)},inputs:{size:[0,"tuiTitle","size"]}}),i})(),d=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({}),i})()},2942:(x,f,t)=>{t.d(f,{j2:()=>h,SA:()=>y});var n=t(1635),e=t(3953),c=t(9925),p=t(4343),d=t(4350),i=t(465),o=t(1662),s=t(177),a=t(3756),r=t(9835),v=t(996),g=t(1985),C=t(7673),z=t(1413),A=t(5558),L=t(5964),I=t(6354),M=t(9437),U=t(6697),D=t(6977);let P=(()=>{class l extends g.c{constructor(m,E,F){super(j=>this.src$.pipe((0,A.n)(R=>F.pipe((0,L.p)(([{isIntersecting:W}])=>W),(0,I.T)(()=>R),(0,M.W)(()=>(0,C.of)(R)),(0,r.Eb)(m),(0,U.s)(1))),(0,D.Q)(E)).subscribe(j)),this.src$=new z.B}next(m){this.src$.next(m)}}return l.\u0275fac=function(m){return new(m||l)(e.KVO(e.gRc),e.KVO(v.ew,2),e.KVO(a.PZ))},l.\u0275prov=e.jDH({token:l,factory:l.\u0275fac}),l})(),O=(()=>{class l{constructor(m,E){this.src$=m,this.el=E,this.animation="tuiSkeletonVibe ease-in-out 1s infinite alternate",this.background="var(--tui-clear-hover)",this.src=null,this.supported||this.src$.subscribe(F=>{this.src=F})}set srcSetter(m){this.src=this.supported?m:null,this.src$.next(m)}get supported(){return"loading"in this.el.nativeElement}onLoad(){this.background="",this.animation=""}}return l.\u0275fac=function(m){return new(m||l)(e.rXU(P),e.rXU(e.aKT))},l.\u0275dir=e.FsC({type:l,selectors:[["img","loading","lazy"]],hostVars:5,hostBindings:function(m,E){1&m&&e.bIt("load",function(){return E.onLoad()}),2&m&&(e.BMQ("src",E.src,e.B4B),e.xc7("animation",E.animation)("background",E.background))},inputs:{srcSetter:[0,"src","srcSetter"]},features:[e.Jv_([P,a.PZ,v.ew])]}),l})(),w=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({}),l})();function B(l,b){if(1&l){const m=e.RV6();e.j41(0,"img",3),e.bIt("error",function(){e.eBV(m);const F=e.XpG();return e.Njj(F.onError())}),e.k0s()}if(2&l){const m=e.XpG();e.Y8G("src",m.avatarUrl||"",e.B4B),e.BMQ("alt",m.text)}}function _(l,b){if(1&l&&e.nrm(0,"tui-svg",4),2&l){const m=e.XpG();e.Y8G("src",m.fallback)}}function T(l,b){if(1&l&&e.nrm(0,"tui-svg",4),2&l){const m=e.XpG();e.Y8G("src",m.stringAvatar)}}const u=(0,c.gc)({size:"m",autoColor:!1,rounded:!1});let h=(()=>{class l{constructor(m){this.options=m,this.size=this.options.size,this.text="",this.fallback=null,this.autoColor=this.options.autoColor,this.rounded=this.options.rounded,this.avatarUrl=null,this.isUrlValid=!1}set avatarUrlSetter(m){this.avatarUrl=m,this.isUrlValid=!!m&&!this.iconAvatar}get bgColor(){return this.autoColor?(0,o.G)(this.text):""}get hasAvatar(){return null!==this.avatarUrl&&this.isUrlValid}get iconAvatar(){var m;return(0,c.YB)(this.avatarUrl)&&!(null===(m=this.avatarUrl)||void 0===m||!m.startsWith("tuiIcon"))}get useFallback(){return!(!this.fallback||!this.avatarUrl||this.isUrlValid||this.text.length)}get computedText(){return this.hasAvatar||this.iconAvatar||""===this.text?"":this.getSlicedText(this.text,this.size)}get stringAvatar(){return this.iconAvatar?String(this.avatarUrl):""}onError(){this.isUrlValid=!1}getSlicedText(m,E){const F=m.split(" ");return F.length>1&&(0,i.Wu)(E)?F[0].slice(0,1)+F[1].slice(0,1):F[0].slice(0,1)}}return l.\u0275fac=function(m){return new(m||l)(e.rXU(u))},l.\u0275cmp=e.VBU({type:l,selectors:[["tui-avatar"]],hostVars:7,hostBindings:function(m,E){2&m&&(e.BMQ("data-size",E.size),e.xc7("background",E.bgColor),e.AVh("_rounded",E.rounded)("_has-avatar",E.hasAvatar))},inputs:{size:"size",avatarUrlSetter:[0,"avatarUrl","avatarUrlSetter"],text:"text",fallback:"fallback",autoColor:"autoColor",rounded:"rounded"},decls:5,vars:4,consts:[["loading","lazy","class","t-image",3,"src","error",4,"ngIf"],["class","t-icon",3,"src",4,"ngIf"],[1,"t-text"],["loading","lazy",1,"t-image",3,"error","src"],[1,"t-icon",3,"src"]],template:function(m,E){1&m&&(e.DNE(0,B,1,2,"img",0)(1,_,1,1,"tui-svg",1)(2,T,1,1,"tui-svg",1),e.j41(3,"span",2),e.EFF(4),e.k0s()),2&m&&(e.Y8G("ngIf",E.isUrlValid),e.R7$(),e.Y8G("ngIf",E.useFallback),e.R7$(),e.Y8G("ngIf",E.stringAvatar),e.R7$(2),e.JRh(E.computedText))},dependencies:[d._Y,s.bT,O],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-shrink:0;border-radius:var(--tui-radius-m);color:var(--tui-secondary-active);text-align:center;text-transform:uppercase;justify-content:center;align-items:center;background:var(--tui-avatar-background, currentColor);-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden}[data-size=xs][_nghost-%COMP%]{font:var(--tui-font-text-s);width:1.5rem;height:1.5rem}[data-size=s][_nghost-%COMP%]{font:var(--tui-font-text-m);width:2rem;height:2rem}[data-size=m][_nghost-%COMP%]{font:var(--tui-font-text-l);width:3rem;height:3rem}[data-size=l][_nghost-%COMP%]{font:var(--tui-font-heading-5);width:4rem;height:4rem;border-radius:var(--tui-radius-xl)}[data-size=xl][_nghost-%COMP%]{font:var(--tui-font-heading-3);width:6rem;height:6rem;border-radius:var(--tui-radius-xl)}[data-size=xxl][_nghost-%COMP%]{font:var(--tui-font-heading-1);width:9rem;height:9rem;border-radius:var(--tui-radius-l)}[new][data-size=xxs][_nghost-%COMP%]{width:1.5rem;height:1.5rem;border-radius:var(--tui-radius-s)}[new][data-size=xxs][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(.58)}[new][data-size=xs][_nghost-%COMP%]{width:2rem;height:2rem;border-radius:var(--tui-radius-s)}[new][data-size=xs][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(.83)}[new][data-size=s][_nghost-%COMP%]{width:2.5rem;height:2.5rem;border-radius:calc(1.5 * var(--tui-radius-s))}[new][data-size=s][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(1)}[new][data-size=m][_nghost-%COMP%]{width:3rem;height:3rem;border-radius:calc(2 * var(--tui-radius-s))}[new][data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(1.17)}[new][data-size=l][_nghost-%COMP%]{width:4rem;height:4rem;border-radius:calc(2 * var(--tui-radius-s))}[new][data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(1.67)}[new][data-size=xl][_nghost-%COMP%]{width:6rem;height:6rem;border-radius:calc(3 * var(--tui-radius-s))}[new][data-size=xl][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(2.33)}[new][data-size=xxl][_nghost-%COMP%]{width:8rem;height:8rem;border-radius:calc(4 * var(--tui-radius-s))}[new][data-size=xxl][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(3.33)}._has-avatar[_nghost-%COMP%]{background-color:transparent}._rounded[_nghost-%COMP%]{border-radius:100%!important}  .tui-avatar-stack{display:flex;width:-webkit-min-content;width:min-content}.tui-avatar-stack[data-size=xs][_nghost-%COMP%], .tui-avatar-stack   [data-size=xs][_nghost-%COMP%]{margin-right:-.625rem;box-shadow:0 0 0 1px var(--tui-avatar-border, var(--tui-base-01))}.tui-avatar-stack[data-size=s][_nghost-%COMP%], .tui-avatar-stack   [data-size=s][_nghost-%COMP%]{margin-right:-.875rem;box-shadow:0 0 0 1px var(--tui-avatar-border, var(--tui-base-01))}.tui-avatar-stack[data-size=m][_nghost-%COMP%], .tui-avatar-stack   [data-size=m][_nghost-%COMP%]{margin-right:-1.25rem;box-shadow:0 0 0 2px var(--tui-avatar-border, var(--tui-base-01))}.tui-avatar-stack[data-size=l][_nghost-%COMP%], .tui-avatar-stack   [data-size=l][_nghost-%COMP%]{margin-right:-1.625rem;box-shadow:0 0 0 2px var(--tui-avatar-border, var(--tui-base-01))}.tui-avatar-stack[data-size=xl][_nghost-%COMP%], .tui-avatar-stack   [data-size=xl][_nghost-%COMP%]{margin-right:-2.25rem;box-shadow:0 0 0 3px var(--tui-avatar-border, var(--tui-base-01))}.tui-avatar-stack[data-size=xxl][_nghost-%COMP%], .tui-avatar-stack   [data-size=xxl][_nghost-%COMP%]{margin-right:-3.375rem;box-shadow:0 0 0 3px var(--tui-avatar-border, var(--tui-base-01))}.t-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.t-text[_ngcontent-%COMP%]{color:var(--tui-avatar-color, var(--tui-text-01))}.t-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;color:var(--tui-avatar-color, var(--tui-text-01))}[data-size=xs][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(.5)}[data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(1.6)}[data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(2)}[data-size=xl][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:scale(3.2)}"],changeDetection:0}),(0,n.Cg)([p.PE],l.prototype,"getSlicedText",null),l})(),y=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[[s.MD,w,d.vl]]}),l})()},1662:(x,f,t)=>{function n(e){if(""===e)return"";let c=0;for(let o=0;o<e.length;o++)c=e.charCodeAt(o)+((c<<5)-c),c&=c;return`hsl(${c%360},${60+c%5}%,${80+c%5}%)`}t.d(f,{G:()=>n})}}]);